{"ast":null,"code":"import _objectSpread from\"/Volumes/ZHITTAI/xiangmu/renwendil/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserRegister=_ref=>{let{onRegister}=_ref;const[formData,setFormData]=useState({username:'',email:'',password:'',confirmPassword:''});const[errors,setErrors]=useState({});const[successMessage,setSuccessMessage]=useState('');const validateForm=()=>{const newErrors={};if(!formData.username.trim()){newErrors.username='用户名不能为空';}if(!formData.email.trim()){newErrors.email='邮箱不能为空';}else if(!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)){newErrors.email='请输入有效的邮箱地址';}if(!formData.password){newErrors.password='密码不能为空';}else if(formData.password.length<6){newErrors.password='密码长度不能少于6个字符';}if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='两次输入的密码不一致';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const handleSubmit=e=>{e.preventDefault();if(validateForm()){// Here you would normally send data to a server\n// For this demo, we'll just show a success message\nconsole.log('注册成功:',formData);setSuccessMessage('注册成功！欢迎加入文舆世界！');// Clear form\nsetFormData({username:'',email:'',password:'',confirmPassword:''});// Call the onRegister callback if provided\nif(onRegister){onRegister();}}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6587\\u8206\\u4E16\\u754C - \\u7528\\u6237\\u6CE8\\u518C\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#d4edda',color:'#155724',padding:'10px',borderRadius:'4px',marginBottom:'15px',textAlign:'center'},children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"\\u7528\\u6237\\u540D:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleInputChange,required:true}),errors.username&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#dc3545',fontSize:'12px',marginTop:'4px'},children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u90AE\\u7BB1:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true}),errors.email&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#dc3545',fontSize:'12px',marginTop:'4px'},children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u5BC6\\u7801:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true}),errors.password&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#dc3545',fontSize:'12px',marginTop:'4px'},children:errors.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"\\u786E\\u8BA4\\u5BC6\\u7801:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formData.confirmPassword,onChange:handleInputChange,required:true}),errors.confirmPassword&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#dc3545',fontSize:'12px',marginTop:'4px'},children:errors.confirmPassword})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:'100%',padding:'12px',marginTop:'10px'},children:\"\\u6CE8\\u518C\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'15px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u5DF2\\u6709\\u8D26\\u53F7\\uFF1F \"}),/*#__PURE__*/_jsx(\"a\",{href:\"/user/login\",style:{color:'#3498db',textDecoration:'none'},children:\"\\u7ACB\\u5373\\u767B\\u5F55\"})]})]})]})});};export default UserRegister;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","UserRegister","_ref","onRegister","formData","setFormData","username","email","password","confirmPassword","errors","setErrors","successMessage","setSuccessMessage","validateForm","newErrors","trim","test","length","Object","keys","handleInputChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","console","log","className","children","style","backgroundColor","color","padding","borderRadius","marginBottom","textAlign","onSubmit","htmlFor","type","id","onChange","required","fontSize","marginTop","width","href","textDecoration"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/UserRegister.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst UserRegister = ({ onRegister }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  \n  const [errors, setErrors] = useState({});\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.username.trim()) {\n      newErrors.username = '用户名不能为空';\n    }\n    \n    if (!formData.email.trim()) {\n      newErrors.email = '邮箱不能为空';\n    } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) {\n      newErrors.email = '请输入有效的邮箱地址';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = '密码不能为空';\n    } else if (formData.password.length < 6) {\n      newErrors.password = '密码长度不能少于6个字符';\n    }\n    \n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = '两次输入的密码不一致';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (validateForm()) {\n      // Here you would normally send data to a server\n      // For this demo, we'll just show a success message\n      console.log('注册成功:', formData);\n      setSuccessMessage('注册成功！欢迎加入文舆世界！');\n      \n      // Clear form\n      setFormData({\n        username: '',\n        email: '',\n        password: '',\n        confirmPassword: ''\n      });\n      \n      // Call the onRegister callback if provided\n      if (onRegister) {\n        onRegister();\n      }\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form\">\n        <h2>文舆世界 - 用户注册</h2>\n        \n        {successMessage && (\n          <div style={{ \n            backgroundColor: '#d4edda', \n            color: '#155724', \n            padding: '10px', \n            borderRadius: '4px', \n            marginBottom: '15px',\n            textAlign: 'center'\n          }}>\n            {successMessage}\n          </div>\n        )}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">用户名:</label>\n            <input \n              type=\"text\" \n              id=\"username\" \n              name=\"username\"\n              value={formData.username} \n              onChange={handleInputChange} \n              required \n            />\n            {errors.username && <div style={{ color: '#dc3545', fontSize: '12px', marginTop: '4px' }}>{errors.username}</div>}\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"email\">邮箱:</label>\n            <input \n              type=\"email\" \n              id=\"email\" \n              name=\"email\"\n              value={formData.email} \n              onChange={handleInputChange} \n              required \n            />\n            {errors.email && <div style={{ color: '#dc3545', fontSize: '12px', marginTop: '4px' }}>{errors.email}</div>}\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"password\">密码:</label>\n            <input \n              type=\"password\" \n              id=\"password\" \n              name=\"password\"\n              value={formData.password} \n              onChange={handleInputChange} \n              required \n            />\n            {errors.password && <div style={{ color: '#dc3545', fontSize: '12px', marginTop: '4px' }}>{errors.password}</div>}\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">确认密码:</label>\n            <input \n              type=\"password\" \n              id=\"confirmPassword\" \n              name=\"confirmPassword\"\n              value={formData.confirmPassword} \n              onChange={handleInputChange} \n              required \n            />\n            {errors.confirmPassword && <div style={{ color: '#dc3545', fontSize: '12px', marginTop: '4px' }}>{errors.confirmPassword}</div>}\n          </div>\n          \n          <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%', padding: '12px', marginTop: '10px' }}>注册</button>\n          \n          <div style={{ textAlign: 'center', marginTop: '15px', fontSize: '14px' }}>\n            <span>已有账号？ </span>\n            <a href=\"/user/login\" style={{ color: '#3498db', textDecoration: 'none' }}>立即登录</a>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default UserRegister;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}