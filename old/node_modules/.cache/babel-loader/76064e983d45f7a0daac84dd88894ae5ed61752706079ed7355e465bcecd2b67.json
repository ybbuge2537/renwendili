{"ast":null,"code":"import _objectSpread from\"/Volumes/ZHITTAI/xiangmu/renwendil/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import CMSNavbar from'../components/CMSNavbar.js';import dataManager from'../data/dataManager.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CMSTagManagement=()=>{const[tags,setTags]=useState([]);const[articles,setArticles]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[isArticleModalOpen,setIsArticleModalOpen]=useState(false);const[editingTag,setEditingTag]=useState(null);const[selectedTag,setSelectedTag]=useState(null);const[tagForm,setTagForm]=useState({name:'',slug:''});const[selectedArticles,setSelectedArticles]=useState([]);useEffect(()=>{const allTags=dataManager.getAllTags();const allArticles=dataManager.getAllArticles();setTags(allTags);setArticles(allArticles);},[]);const handleOpenModal=function(){let tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(tag){setEditingTag(tag);setTagForm({name:tag.name,slug:tag.slug});}else{setEditingTag(null);setTagForm({name:'',slug:''});}setIsModalOpen(true);};const handleCloseModal=()=>{setIsModalOpen(false);setEditingTag(null);};const handleInputChange=e=>{const{name,value}=e.target;setTagForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();if(editingTag){dataManager.updateTag(editingTag.id,tagForm);}else{dataManager.addTag(tagForm);}setTags(dataManager.getAllTags());handleCloseModal();};const handleDelete=id=>{if(window.confirm('确定要删除该标签吗？相关文章将移除该标签关联。')){dataManager.deleteTag(id);setTags(dataManager.getAllTags());}};const handleArticlesModalOpen=tag=>{setSelectedTag(tag);// 获取已关联该标签的文章\nconst taggedArticles=dataManager.getArticlesByTag(tag.id);const taggedArticleIds=taggedArticles.map(article=>article.id);setSelectedArticles(taggedArticleIds);setIsArticleModalOpen(true);};const handleArticlesModalClose=()=>{setIsArticleModalOpen(false);setSelectedTag(null);};const handleArticleToggle=articleId=>{let newSelectedArticles;if(selectedArticles.includes(articleId)){newSelectedArticles=selectedArticles.filter(id=>id!==articleId);}else{newSelectedArticles=[...selectedArticles,articleId];}setSelectedArticles(newSelectedArticles);};const handleSaveArticleTags=()=>{// 更新所有文章的标签\narticles.forEach(article=>{let updatedTags=article.tags||[];if(selectedArticles.includes(article.id)){// 添加标签\nif(!updatedTags.includes(selectedTag.id)){updatedTags.push(selectedTag.id);}}else{// 移除标签\nupdatedTags=updatedTags.filter(tagId=>tagId!==selectedTag.id);}dataManager.updateArticle(article.id,{tags:updatedTags});});handleArticlesModalClose();};// 计算每个标签关联的文章数量\nconst getArticleCount=tagId=>{return dataManager.getArticlesByTag(tagId).length;};return/*#__PURE__*/_jsxs(\"div\",{className:\"cms-container\",children:[/*#__PURE__*/_jsx(CMSNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u7BA1\\u7406\\u83DC\\u5355\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar-nav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/cms/dashboard\",className:\"cms-nav-link\",children:\"\\u4EEA\\u8868\\u677F\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/articles\",className:\"cms-nav-link\",children:\"\\u6587\\u7AE0\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/media\",className:\"cms-nav-link\",children:\"\\u5A92\\u4F53\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/categories\",className:\"cms-nav-link\",children:\"\\u5206\\u7C7B\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/tags\",className:\"cms-nav-link active\",children:\"\\u6807\\u7B7E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/locations\",className:\"cms-nav-link\",children:\"\\u4F4D\\u7F6E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/users\",className:\"cms-nav-link\",children:\"\\u7528\\u6237\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/roles\",className:\"cms-nav-link\",children:\"\\u89D2\\u8272\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/settings\",className:\"cms-nav-link\",children:\"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"cms-nav-link\",children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cms-main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cms-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6807\\u7B7E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleOpenModal(),children:\"\\u6DFB\\u52A0\\u6807\\u7B7E\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"tags-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u6807\\u7B7E\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u522B\\u540D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6587\\u7AE0\\u6570\\u91CF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tags.map(tag=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:tag.name}),/*#__PURE__*/_jsx(\"td\",{children:tag.slug}),/*#__PURE__*/_jsx(\"td\",{children:getArticleCount(tag.id)}),/*#__PURE__*/_jsxs(\"td\",{className:\"tag-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>handleOpenModal(tag),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn articles-btn\",onClick:()=>handleArticlesModalOpen(tag),children:\"\\u5173\\u8054\\u6587\\u7AE0\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete(tag.id),children:\"\\u5220\\u9664\"})]})]},tag.id))})]})})]})})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingTag?'编辑标签':'添加标签'}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleCloseModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"\\u6807\\u7B7E\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:tagForm.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"slug\",children:\"\\u6807\\u7B7E\\u522B\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"slug\",name:\"slug\",value:tagForm.slug,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCloseModal,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"\\u4FDD\\u5B58\"})]})]})]})}),isArticleModalOpen&&selectedTag&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal articles-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u5173\\u8054\\u6587\\u7AE0 - \",selectedTag.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleArticlesModalClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u9009\\u62E9\\u6587\\u7AE0:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"articles-list\",children:articles.map(article=>/*#__PURE__*/_jsxs(\"div\",{className:\"article-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"article-\".concat(article.id),checked:selectedArticles.includes(article.id),onChange:()=>handleArticleToggle(article.id)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"article-\".concat(article.id),children:article.title.zh})]},article.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleArticlesModalClose,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleSaveArticleTags,children:\"\\u4FDD\\u5B58\"})]})]})]})})]});};export default CMSTagManagement;","map":{"version":3,"names":["React","useState","useEffect","CMSNavbar","dataManager","jsx","_jsx","jsxs","_jsxs","CMSTagManagement","tags","setTags","articles","setArticles","isModalOpen","setIsModalOpen","isArticleModalOpen","setIsArticleModalOpen","editingTag","setEditingTag","selectedTag","setSelectedTag","tagForm","setTagForm","name","slug","selectedArticles","setSelectedArticles","allTags","getAllTags","allArticles","getAllArticles","handleOpenModal","tag","arguments","length","undefined","handleCloseModal","handleInputChange","e","value","target","prev","_objectSpread","handleSubmit","preventDefault","updateTag","id","addTag","handleDelete","window","confirm","deleteTag","handleArticlesModalOpen","taggedArticles","getArticlesByTag","taggedArticleIds","map","article","handleArticlesModalClose","handleArticleToggle","articleId","newSelectedArticles","includes","filter","handleSaveArticleTags","forEach","updatedTags","push","tagId","updateArticle","getArticleCount","className","children","href","onClick","onSubmit","htmlFor","type","onChange","required","concat","checked","title","zh"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/CMSTagManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CMSNavbar from '../components/CMSNavbar.js';\nimport dataManager from '../data/dataManager.js';\n\nconst CMSTagManagement = () => {\n  const [tags, setTags] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isArticleModalOpen, setIsArticleModalOpen] = useState(false);\n  const [editingTag, setEditingTag] = useState(null);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [tagForm, setTagForm] = useState({\n    name: '',\n    slug: ''\n  });\n  const [selectedArticles, setSelectedArticles] = useState([]);\n\n  useEffect(() => {\n    const allTags = dataManager.getAllTags();\n    const allArticles = dataManager.getAllArticles();\n    setTags(allTags);\n    setArticles(allArticles);\n  }, []);\n\n  const handleOpenModal = (tag = null) => {\n    if (tag) {\n      setEditingTag(tag);\n      setTagForm({\n        name: tag.name,\n        slug: tag.slug\n      });\n    } else {\n      setEditingTag(null);\n      setTagForm({\n        name: '',\n        slug: ''\n      });\n    }\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingTag(null);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setTagForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (editingTag) {\n      dataManager.updateTag(editingTag.id, tagForm);\n    } else {\n      dataManager.addTag(tagForm);\n    }\n    \n    setTags(dataManager.getAllTags());\n    handleCloseModal();\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('确定要删除该标签吗？相关文章将移除该标签关联。')) {\n      dataManager.deleteTag(id);\n      setTags(dataManager.getAllTags());\n    }\n  };\n\n  const handleArticlesModalOpen = (tag) => {\n    setSelectedTag(tag);\n    // 获取已关联该标签的文章\n    const taggedArticles = dataManager.getArticlesByTag(tag.id);\n    const taggedArticleIds = taggedArticles.map(article => article.id);\n    setSelectedArticles(taggedArticleIds);\n    setIsArticleModalOpen(true);\n  };\n\n  const handleArticlesModalClose = () => {\n    setIsArticleModalOpen(false);\n    setSelectedTag(null);\n  };\n\n  const handleArticleToggle = (articleId) => {\n    let newSelectedArticles;\n    if (selectedArticles.includes(articleId)) {\n      newSelectedArticles = selectedArticles.filter(id => id !== articleId);\n    } else {\n      newSelectedArticles = [...selectedArticles, articleId];\n    }\n    setSelectedArticles(newSelectedArticles);\n  };\n\n  const handleSaveArticleTags = () => {\n    // 更新所有文章的标签\n    articles.forEach(article => {\n      let updatedTags = article.tags || [];\n      \n      if (selectedArticles.includes(article.id)) {\n        // 添加标签\n        if (!updatedTags.includes(selectedTag.id)) {\n          updatedTags.push(selectedTag.id);\n        }\n      } else {\n        // 移除标签\n        updatedTags = updatedTags.filter(tagId => tagId !== selectedTag.id);\n      }\n      \n      dataManager.updateArticle(article.id, { tags: updatedTags });\n    });\n    \n    handleArticlesModalClose();\n  };\n\n  // 计算每个标签关联的文章数量\n  const getArticleCount = (tagId) => {\n    return dataManager.getArticlesByTag(tagId).length;\n  };\n\n  return (\n    <div className=\"cms-container\">\n      <CMSNavbar />\n      <div className=\"cms-content\">\n        <div className=\"cms-sidebar\">\n          <h3>管理菜单</h3>\n          <div className=\"cms-sidebar-nav\">\n            <a href=\"/cms/dashboard\" className=\"cms-nav-link\">仪表板</a>\n            <a href=\"/cms/articles\" className=\"cms-nav-link\">文章管理</a>\n            <a href=\"/cms/media\" className=\"cms-nav-link\">媒体管理</a>\n            <a href=\"/cms/categories\" className=\"cms-nav-link\">分类管理</a>\n            <a href=\"/cms/tags\" className=\"cms-nav-link active\">标签管理</a>\n            <a href=\"/cms/locations\" className=\"cms-nav-link\">位置管理</a>\n            <a href=\"/cms/users\" className=\"cms-nav-link\">用户管理</a>\n            <a href=\"/cms/roles\" className=\"cms-nav-link\">角色管理</a>\n            <a href=\"/cms/settings\" className=\"cms-nav-link\">系统设置</a>\n            <a href=\"/\" className=\"cms-nav-link\">退出登录</a>\n          </div>\n        </div>\n        <div className=\"cms-main-content\">\n          <div className=\"cms-card\">\n            <div className=\"card-header\">\n              <h2>标签管理</h2>\n              <button className=\"btn btn-primary\" onClick={() => handleOpenModal()}>添加标签</button>\n            </div>\n            <div className=\"card-body\">\n              <table className=\"tags-table\">\n                <thead>\n                  <tr>\n                    <th>标签名称</th>\n                    <th>别名</th>\n                    <th>文章数量</th>\n                    <th>操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {tags.map(tag => (\n                    <tr key={tag.id}>\n                      <td>{tag.name}</td>\n                      <td>{tag.slug}</td>\n                      <td>{getArticleCount(tag.id)}</td>\n                      <td className=\"tag-actions\">\n                        <button className=\"action-btn edit-btn\" onClick={() => handleOpenModal(tag)}>编辑</button>\n                        <button className=\"action-btn articles-btn\" onClick={() => handleArticlesModalOpen(tag)}>关联文章</button>\n                        <button className=\"action-btn delete-btn\" onClick={() => handleDelete(tag.id)}>删除</button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {isModalOpen && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingTag ? '编辑标签' : '添加标签'}</h3>\n              <button className=\"modal-close\" onClick={handleCloseModal}>×</button>\n            </div>\n            <form onSubmit={handleSubmit} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">标签名称</label>\n                <input \n                  type=\"text\" \n                  id=\"name\" \n                  name=\"name\" \n                  value={tagForm.name}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"slug\">标签别名</label>\n                <input \n                  type=\"text\" \n                  id=\"slug\" \n                  name=\"slug\" \n                  value={tagForm.slug}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>取消</button>\n                <button type=\"submit\" className=\"btn btn-primary\">保存</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {isArticleModalOpen && selectedTag && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal articles-modal\">\n            <div className=\"modal-header\">\n              <h3>关联文章 - {selectedTag.name}</h3>\n              <button className=\"modal-close\" onClick={handleArticlesModalClose}>×</button>\n            </div>\n            <div className=\"modal-body\">\n              <h4>选择文章:</h4>\n              <div className=\"articles-list\">\n                {articles.map(article => (\n                  <div key={article.id} className=\"article-item\">\n                    <input \n                      type=\"checkbox\" \n                      id={`article-${article.id}`}\n                      checked={selectedArticles.includes(article.id)}\n                      onChange={() => handleArticleToggle(article.id)}\n                    />\n                    <label htmlFor={`article-${article.id}`}>{article.title.zh}</label>\n                  </div>\n                ))}\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleArticlesModalClose}>取消</button>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={handleSaveArticleTags}>保存</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CMSTagManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}