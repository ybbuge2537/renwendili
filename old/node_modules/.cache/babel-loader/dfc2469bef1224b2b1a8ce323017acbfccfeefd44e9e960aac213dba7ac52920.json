{"ast":null,"code":"import locationsData from './locations.json';\nimport articlesData from './articles.json';\nimport mediaData from './media.json';\nimport categoriesData from './categories.json';\nimport tagsData from './tags.json';\nimport usersData from './users.json';\nimport settingsData from './settings.json';\nimport apiService from '../services/apiService';\nclass DataManager {\n  constructor() {\n    this.locations = locationsData.locations;\n    this.locationsMetadata = locationsData.metadata;\n\n    // 文章数据\n    this.articles = articlesData.articles;\n    this.articlesMetadata = articlesData.metadata;\n\n    // 媒体数据\n    this.media = mediaData.media;\n    this.mediaFolders = mediaData.folders;\n    this.mediaMetadata = mediaData.metadata;\n\n    // 分类与标签\n    this.categories = categoriesData.categories;\n    this.categoriesMetadata = categoriesData.metadata;\n    this.tags = tagsData.tags;\n    this.tagsMetadata = tagsData.metadata;\n\n    // 用户与权限\n    this.users = usersData.users;\n    this.roles = usersData.roles;\n    this.permissions = usersData.permissions;\n    this.rolePermissions = usersData.role_permissions;\n    this.usersMetadata = usersData.metadata;\n\n    // 系统设置\n    this.websiteSettings = settingsData.website_settings;\n    this.emailSettings = settingsData.email_settings;\n    this.seoSettings = settingsData.seo_settings;\n    this.securitySettings = settingsData.security_settings;\n    this.operationLogs = settingsData.logs.operation_logs;\n    this.errorLogs = settingsData.logs.error_logs;\n    this.settingsMetadata = settingsData.metadata;\n  }\n\n  // 辅助方法：将数据库格式的地域转换为前端格式\n  convertDbRegionToFrontend(region) {\n    if (!region) return null;\n\n    // 解析经纬度\n    let coordinates = {\n      lng: 0,\n      lat: 0\n    };\n    if (region.location) {\n      const match = region.location.match(/POINT\\((\\d+\\.?\\d*) (\\d+\\.?\\d*)\\)/);\n      if (match) {\n        coordinates = {\n          lng: parseFloat(match[1]),\n          lat: parseFloat(match[2])\n        };\n      }\n    }\n    return {\n      id: region.region_id,\n      name: {\n        zh: region.region_name\n      },\n      description: {\n        zh: region.description || ''\n      },\n      coordinates: coordinates,\n      layer: 'country',\n      // 默认值，可根据需要扩展\n      type: 'country',\n      // 默认值，可根据需要扩展\n      tags: [],\n      // 默认值，可根据需要扩展\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString()\n    };\n  }\n\n  // 辅助方法：将前端格式的地域转换为数据库格式\n  convertFrontendRegionToDb(location) {\n    return {\n      region_name: location.name.zh,\n      parent_id: location.parent_id || null,\n      location: `POINT(${location.coordinates.lng} ${location.coordinates.lat})`,\n      description: location.description.zh || ''\n    };\n  }\n\n  // 获取所有地点\n  async getAllLocations() {\n    try {\n      const regions = await apiService.region.getAllRegions();\n      // 转换为前端需要的格式\n      const locations = regions.map(region => this.convertDbRegionToFrontend(region));\n      // 更新本地缓存\n      this.locations = locations;\n      this.locationsMetadata.total_locations = locations.length;\n      return locations;\n    } catch (error) {\n      console.error('获取所有地点失败:', error);\n      return this.locations;\n    }\n  }\n\n  // 根据图层获取地点\n  async getLocationsByLayer(layer) {\n    const locations = await this.getAllLocations();\n    if (!layer || layer === 'all') {\n      return locations;\n    }\n    return locations.filter(location => location.layer === layer);\n  }\n\n  // 根据ID获取地点\n  async getLocationById(id) {\n    try {\n      const region = await apiService.region.getRegionById(id);\n      if (region) {\n        return this.convertDbRegionToFrontend(region);\n      }\n      return null;\n    } catch (error) {\n      console.error(`获取地点 ${id} 失败:`, error);\n      return this.locations.find(location => location.id === id);\n    }\n  }\n\n  // 根据标签获取地点\n  async getLocationsByTag(tag) {\n    const locations = await this.getAllLocations();\n    return locations.filter(location => location.tags && location.tags.includes(tag));\n  }\n\n  // 根据类型获取地点\n  async getLocationsByType(type) {\n    const locations = await this.getAllLocations();\n    return locations.filter(location => location.type === type);\n  }\n\n  // 搜索地点\n  async searchLocations(query, language = 'zh') {\n    const locations = await this.getAllLocations();\n    const lowerQuery = query.toLowerCase();\n    return locations.filter(location => location.name[language].toLowerCase().includes(lowerQuery) || location.description[language].toLowerCase().includes(lowerQuery) || location.tags && location.tags.some(tag => tag.toLowerCase().includes(lowerQuery)));\n  }\n\n  // 添加地点\n  async addLocation(location) {\n    try {\n      // 转换为数据库格式\n      const regionData = this.convertFrontendRegionToDb(location);\n      const newRegion = await apiService.region.createRegion(regionData);\n      // 转换回前端格式\n      const newLocation = this.convertDbRegionToFrontend(newRegion);\n      // 更新本地缓存\n      this.locations.push(newLocation);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return newLocation;\n    } catch (error) {\n      console.error('添加地点失败:', error);\n      // 降级到本地处理\n      const newLocation = {\n        ...location,\n        id: `loc_${(this.locations.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      };\n      this.locations.push(newLocation);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return newLocation;\n    }\n  }\n\n  // 更新地点\n  async updateLocation(id, updates) {\n    try {\n      // 获取当前地点\n      const currentLocation = await this.getLocationById(id);\n      if (!currentLocation) return null;\n\n      // 合并更新\n      const updatedLocation = {\n        ...currentLocation,\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n\n      // 转换为数据库格式\n      const regionData = this.convertFrontendRegionToDb(updatedLocation);\n      const updatedRegion = await apiService.region.updateRegion(id, regionData);\n\n      // 转换回前端格式\n      const finalLocation = this.convertDbRegionToFrontend(updatedRegion);\n\n      // 更新本地缓存\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index !== -1) {\n        this.locations[index] = finalLocation;\n      }\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return finalLocation;\n    } catch (error) {\n      console.error(`更新地点 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index === -1) return null;\n      this.locations[index] = {\n        ...this.locations[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return this.locations[index];\n    }\n  }\n\n  // 删除地点\n  async deleteLocation(id) {\n    try {\n      const success = await apiService.region.deleteRegion(id);\n      if (success) {\n        // 更新本地缓存\n        const index = this.locations.findIndex(location => location.id === id);\n        if (index !== -1) {\n          this.locations.splice(index, 1);\n        }\n        this.locationsMetadata.total_locations = this.locations.length;\n        this.locationsMetadata.last_updated = new Date().toISOString();\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除地点 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index === -1) return false;\n      this.locations.splice(index, 1);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return true;\n    }\n  }\n\n  // 获取元数据\n  getMetadata() {\n    return this.locationsMetadata;\n  }\n\n  // 获取所有图层类型\n  async getLayers() {\n    const locations = await this.getAllLocations();\n    const layers = [...new Set(locations.map(location => location.layer))];\n    return layers.sort();\n  }\n\n  // 获取所有地点类型\n  async getTypes() {\n    const locations = await this.getAllLocations();\n    const types = [...new Set(locations.map(location => location.type))];\n    return types.sort();\n  }\n\n  // 获取所有标签 (已在标签管理部分实现，这里只作为兼容性接口)\n  async getAllTags() {\n    const locations = await this.getAllLocations();\n    const tags = new Set();\n    locations.forEach(location => {\n      if (location.tags) {\n        location.tags.forEach(tag => tags.add(tag));\n      }\n    });\n    return Array.from(tags).sort();\n  }\n\n  // 文章管理相关方法\n  getAllArticles() {\n    return this.articles;\n  }\n  getArticleById(id) {\n    return this.articles.find(article => article.id === id);\n  }\n  getArticlesByStatus(status) {\n    if (!status) return this.articles;\n    return this.articles.filter(article => article.status === status);\n  }\n  getArticlesByAuthor(authorId) {\n    return this.articles.filter(article => article.author_id === authorId);\n  }\n  getArticlesByCategory(categoryId) {\n    return this.articles.filter(article => article.category_id === categoryId);\n  }\n  getArticlesByTag(tagId) {\n    return this.articles.filter(article => article.tags && article.tags.includes(tagId));\n  }\n  searchArticles(query, language = 'zh') {\n    const lowerQuery = query.toLowerCase();\n    return this.articles.filter(article => article.title[language].toLowerCase().includes(lowerQuery) || article.content[language].toLowerCase().includes(lowerQuery));\n  }\n  addArticle(article) {\n    const newArticle = {\n      ...article,\n      id: `article_${(this.articles.length + 1).toString().padStart(4, '0')}`,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n      status: 'draft'\n    };\n    this.articles.push(newArticle);\n    this.articlesMetadata.total_articles = this.articles.length;\n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return newArticle;\n  }\n  updateArticle(id, updates) {\n    const index = this.articles.findIndex(article => article.id === id);\n    if (index === -1) return null;\n    this.articles[index] = {\n      ...this.articles[index],\n      ...updates,\n      updated_at: new Date().toISOString()\n    };\n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return this.articles[index];\n  }\n  deleteArticle(id) {\n    const index = this.articles.findIndex(article => article.id === id);\n    if (index === -1) return false;\n    this.articles.splice(index, 1);\n    this.articlesMetadata.total_articles = this.articles.length;\n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return true;\n  }\n\n  // 媒体管理相关方法\n  getAllMedia() {\n    return this.media;\n  }\n  getMediaById(id) {\n    return this.media.find(media => media.id === id);\n  }\n  getMediaByType(type) {\n    if (!type) return this.media;\n    return this.media.filter(media => media.type === type);\n  }\n  getMediaByFolder(folderId) {\n    return this.media.filter(media => media.folder_id === folderId);\n  }\n  addMedia(media) {\n    const newMedia = {\n      ...media,\n      id: `media_${(this.media.length + 1).toString().padStart(4, '0')}`,\n      uploaded_at: new Date().toISOString(),\n      size: media.size || 0\n    };\n    this.media.push(newMedia);\n    this.mediaMetadata.total_files = this.media.length;\n    this.mediaMetadata.last_updated = new Date().toISOString();\n    return newMedia;\n  }\n  deleteMedia(id) {\n    const index = this.media.findIndex(media => media.id === id);\n    if (index === -1) return false;\n    this.media.splice(index, 1);\n    this.mediaMetadata.total_files = this.media.length;\n    this.mediaMetadata.last_updated = new Date().toISOString();\n    return true;\n  }\n  getAllMediaFolders() {\n    return this.mediaFolders;\n  }\n  addMediaFolder(folder) {\n    const newFolder = {\n      ...folder,\n      id: `folder_${(this.mediaFolders.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString()\n    };\n    this.mediaFolders.push(newFolder);\n    return newFolder;\n  }\n  deleteMediaFolder(id) {\n    // 检查文件夹是否为空\n    const hasMedia = this.media.some(media => media.folder_id === id);\n    if (hasMedia) return false;\n    const index = this.mediaFolders.findIndex(folder => folder.id === id);\n    if (index === -1) return false;\n    this.mediaFolders.splice(index, 1);\n    return true;\n  }\n\n  // 分类管理相关方法\n  getAllCategories() {\n    return this.categories;\n  }\n  getCategoryById(id) {\n    return this.categories.find(category => category.id === id);\n  }\n  getCategoriesByParent(parentId) {\n    return this.categories.filter(category => category.parent_id === parentId);\n  }\n  addCategory(category) {\n    const newCategory = {\n      ...category,\n      id: `cat_${(this.categories.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString()\n    };\n    this.categories.push(newCategory);\n    this.categoriesMetadata.total_categories = this.categories.length;\n    return newCategory;\n  }\n  updateCategory(id, updates) {\n    const index = this.categories.findIndex(category => category.id === id);\n    if (index === -1) return null;\n    this.categories[index] = {\n      ...this.categories[index],\n      ...updates,\n      updated_at: new Date().toISOString()\n    };\n    return this.categories[index];\n  }\n  deleteCategory(id) {\n    // 检查是否有文章属于该分类\n    const hasArticles = this.articles.some(article => article.category_id === id);\n    if (hasArticles) return false;\n\n    // 检查是否有子分类\n    const hasChildren = this.categories.some(category => category.parent_id === id);\n    if (hasChildren) return false;\n    const index = this.categories.findIndex(category => category.id === id);\n    if (index === -1) return false;\n    this.categories.splice(index, 1);\n    this.categoriesMetadata.total_categories = this.categories.length;\n    return true;\n  }\n\n  // 标签管理相关方法\n  getAllTags() {\n    return this.tags;\n  }\n  getTagById(id) {\n    return this.tags.find(tag => tag.id === id);\n  }\n  addTag(tag) {\n    const newTag = {\n      ...tag,\n      id: `tag_${(this.tags.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString(),\n      article_count: 0\n    };\n    this.tags.push(newTag);\n    return newTag;\n  }\n  updateTag(id, updates) {\n    const index = this.tags.findIndex(tag => tag.id === id);\n    if (index === -1) return null;\n    this.tags[index] = {\n      ...this.tags[index],\n      ...updates\n    };\n    return this.tags[index];\n  }\n  deleteTag(id) {\n    const index = this.tags.findIndex(tag => tag.id === id);\n    if (index === -1) return false;\n\n    // 从所有文章中移除该标签\n    this.articles.forEach(article => {\n      if (article.tags && article.tags.includes(id)) {\n        article.tags = article.tags.filter(tagId => tagId !== id);\n      }\n    });\n    this.tags.splice(index, 1);\n    return true;\n  }\n\n  // 用户管理相关方法\n  async getAllUsers() {\n    try {\n      const users = await apiService.user.getAllUsers();\n      // 更新本地缓存\n      this.users = users;\n      this.usersMetadata.total_users = users.length;\n      return users;\n    } catch (error) {\n      console.error('获取用户列表失败:', error);\n      return this.users;\n    }\n  }\n  async getUserById(id) {\n    try {\n      const user = await apiService.user.getUserById(id);\n      return user;\n    } catch (error) {\n      console.error(`获取用户 ${id} 失败:`, error);\n      return this.users.find(user => user.id === id);\n    }\n  }\n  async getUserByUsername(username) {\n    try {\n      const user = await apiService.user.getUserByUsername(username);\n      return user;\n    } catch (error) {\n      console.error(`获取用户 ${username} 失败:`, error);\n      return this.users.find(user => user.username === username);\n    }\n  }\n  async addUser(user) {\n    try {\n      const newUser = await apiService.user.createUser(user);\n      // 更新本地缓存\n      this.users.push(newUser);\n      this.usersMetadata.total_users = this.users.length;\n      return newUser;\n    } catch (error) {\n      console.error('创建用户失败:', error);\n      // 降级到本地处理\n      const newUser = {\n        ...user,\n        id: `user_${(this.users.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString(),\n        status: 'active'\n      };\n      this.users.push(newUser);\n      this.usersMetadata.total_users = this.users.length;\n      return newUser;\n    }\n  }\n  async updateUser(id, updates) {\n    try {\n      const updatedUser = await apiService.user.updateUser(id, updates);\n      // 更新本地缓存\n      const index = this.users.findIndex(user => user.id === id);\n      if (index !== -1) {\n        this.users[index] = updatedUser;\n      }\n      return updatedUser;\n    } catch (error) {\n      console.error(`更新用户 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.users.findIndex(user => user.id === id);\n      if (index === -1) return null;\n      this.users[index] = {\n        ...this.users[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      return this.users[index];\n    }\n  }\n  async deleteUser(id) {\n    try {\n      const success = await apiService.user.deleteUser(id);\n      // 更新本地缓存\n      if (success) {\n        const index = this.users.findIndex(user => user.id === id);\n        if (index !== -1) {\n          this.users.splice(index, 1);\n          this.usersMetadata.total_users = this.users.length;\n        }\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除用户 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.users.findIndex(user => user.id === id);\n      if (index === -1) return false;\n      this.users.splice(index, 1);\n      this.usersMetadata.total_users = this.users.length;\n      return true;\n    }\n  }\n\n  // 权限管理相关方法\n  async getAllRoles() {\n    try {\n      const roles = await apiService.rolePermission.getAllRoles();\n      // 更新本地缓存\n      this.roles = roles;\n      return roles;\n    } catch (error) {\n      console.error('获取角色列表失败:', error);\n      return this.roles;\n    }\n  }\n  async getRoleById(id) {\n    try {\n      // 先从本地缓存查找\n      const role = this.roles.find(role => role.id === id);\n      if (role) return role;\n\n      // 如果本地没有，从API获取\n      return await apiService.rolePermission.getRoleById(id);\n    } catch (error) {\n      console.error(`获取角色 ${id} 失败:`, error);\n      return this.roles.find(role => role.id === id);\n    }\n  }\n  async addRole(role) {\n    try {\n      const newRole = await apiService.rolePermission.createRole(role);\n      // 更新本地缓存\n      this.roles.push(newRole);\n      return newRole;\n    } catch (error) {\n      console.error('创建角色失败:', error);\n      // 降级到本地处理\n      const newRole = {\n        ...role,\n        id: `role_${(this.roles.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString()\n      };\n      this.roles.push(newRole);\n      return newRole;\n    }\n  }\n  async deleteRole(id) {\n    try {\n      // 检查是否为超级管理员角色\n      if (id === 'role_001') return false;\n\n      // 检查是否有用户关联到该角色\n      const users = await this.getAllUsers();\n      const hasUsers = users.some(user => user.role_id === id);\n      if (hasUsers) return false;\n      const success = await apiService.rolePermission.deleteRole(id);\n      // 更新本地缓存\n      if (success) {\n        const index = this.roles.findIndex(role => role.id === id);\n        if (index !== -1) {\n          this.roles.splice(index, 1);\n        }\n        // 删除相关的权限关联\n        this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== id);\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除角色 ${id} 失败:`, error);\n      // 降级到本地处理\n      // 检查是否为超级管理员角色\n      if (id === 'role_001') return false;\n\n      // 检查是否有用户关联到该角色\n      const hasUsers = this.users.some(user => user.role_id === id);\n      if (hasUsers) return false;\n      const index = this.roles.findIndex(role => role.id === id);\n      if (index === -1) return false;\n\n      // 删除相关的权限关联\n      this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== id);\n      this.roles.splice(index, 1);\n      return true;\n    }\n  }\n  async updateRole(id, updates) {\n    try {\n      const updatedRole = await apiService.rolePermission.updateRole(id, updates);\n      // 更新本地缓存\n      const index = this.roles.findIndex(role => role.id === id);\n      if (index !== -1) {\n        this.roles[index] = updatedRole;\n      }\n      return updatedRole;\n    } catch (error) {\n      console.error(`更新角色 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.roles.findIndex(role => role.id === id);\n      if (index === -1) return null;\n      this.roles[index] = {\n        ...this.roles[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      return this.roles[index];\n    }\n  }\n  async getAllRolePermissions() {\n    return this.rolePermissions;\n  }\n  async updateRolePermissions(roleId, permissionIds) {\n    try {\n      const success = await apiService.rolePermission.updateRolePermissions(roleId, permissionIds);\n      // 更新本地缓存\n      if (success) {\n        // 删除该角色的所有现有权限\n        this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== roleId);\n\n        // 添加新的权限关联\n        permissionIds.forEach(permissionId => {\n          this.rolePermissions.push({\n            role_id: roleId,\n            permission_id: permissionId\n          });\n        });\n      }\n      return success;\n    } catch (error) {\n      console.error(`更新角色 ${roleId} 权限失败:`, error);\n      // 降级到本地处理\n      // 删除该角色的所有现有权限\n      this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== roleId);\n\n      // 添加新的权限关联\n      permissionIds.forEach(permissionId => {\n        this.rolePermissions.push({\n          role_id: roleId,\n          permission_id: permissionId\n        });\n      });\n      return true;\n    }\n  }\n  async getAllPermissions() {\n    try {\n      const permissions = await apiService.rolePermission.getAllPermissions();\n      // 更新本地缓存\n      this.permissions = permissions;\n      return permissions;\n    } catch (error) {\n      console.error('获取权限列表失败:', error);\n      return this.permissions;\n    }\n  }\n  async getPermissionsByRole(roleId) {\n    try {\n      const permissionIds = await apiService.rolePermission.getRolePermissions(roleId);\n      const allPermissions = await this.getAllPermissions();\n      return allPermissions.filter(permission => permissionIds.includes(permission.id));\n    } catch (error) {\n      console.error(`获取角色 ${roleId} 权限失败:`, error);\n      // 降级到本地处理\n      const rolePermissionIds = this.rolePermissions.filter(rp => rp.role_id === roleId).map(rp => rp.permission_id);\n      return this.permissions.filter(permission => rolePermissionIds.includes(permission.id));\n    }\n  }\n  async assignPermission(roleId, permissionId) {\n    try {\n      // 检查是否已存在该关联\n      const existingPermissions = await this.getPermissionsByRole(roleId);\n      const exists = existingPermissions.some(permission => permission.id === permissionId);\n      if (exists) return false;\n\n      // 更新权限列表\n      const newPermissions = [...existingPermissions.map(p => p.id), permissionId];\n      return await this.updateRolePermissions(roleId, newPermissions);\n    } catch (error) {\n      console.error(`分配权限失败:`, error);\n      // 降级到本地处理\n      // 检查是否已存在该关联\n      const exists = this.rolePermissions.some(rp => rp.role_id === roleId && rp.permission_id === permissionId);\n      if (exists) return false;\n      this.rolePermissions.push({\n        role_id: roleId,\n        permission_id: permissionId\n      });\n      return true;\n    }\n  }\n  async removePermission(roleId, permissionId) {\n    try {\n      // 获取当前权限列表\n      const existingPermissions = await this.getPermissionsByRole(roleId);\n      // 过滤掉要移除的权限\n      const newPermissions = existingPermissions.map(p => p.id).filter(id => id !== permissionId);\n      // 更新权限列表\n      return await this.updateRolePermissions(roleId, newPermissions);\n    } catch (error) {\n      console.error(`移除权限失败:`, error);\n      // 降级到本地处理\n      const index = this.rolePermissions.findIndex(rp => rp.role_id === roleId && rp.permission_id === permissionId);\n      if (index === -1) return false;\n      this.rolePermissions.splice(index, 1);\n      return true;\n    }\n  }\n\n  // 系统设置相关方法\n  getWebsiteSettings() {\n    return this.websiteSettings;\n  }\n  updateWebsiteSettings(updates) {\n    this.websiteSettings = {\n      ...this.websiteSettings,\n      ...updates\n    };\n    return this.websiteSettings;\n  }\n  getEmailSettings() {\n    return this.emailSettings;\n  }\n  updateEmailSettings(updates) {\n    this.emailSettings = {\n      ...this.emailSettings,\n      ...updates\n    };\n    return this.emailSettings;\n  }\n  getSEOSettings() {\n    return this.seoSettings;\n  }\n  updateSEOSettings(updates) {\n    this.seoSettings = {\n      ...this.seoSettings,\n      ...updates\n    };\n    return this.seoSettings;\n  }\n  getSecuritySettings() {\n    return this.securitySettings;\n  }\n  updateSecuritySettings(updates) {\n    this.securitySettings = {\n      ...this.securitySettings,\n      ...updates\n    };\n    return this.securitySettings;\n  }\n\n  // 日志管理相关方法\n  getAllOperationLogs() {\n    return this.operationLogs;\n  }\n  addOperationLog(log) {\n    const newLog = {\n      ...log,\n      id: `log_${(this.operationLogs.length + 1).toString().padStart(5, '0')}`,\n      timestamp: new Date().toISOString()\n    };\n    this.operationLogs.push(newLog);\n    return newLog;\n  }\n  getAllErrorLogs() {\n    return this.errorLogs;\n  }\n  addErrorLog(log) {\n    const newLog = {\n      ...log,\n      id: `error_${(this.errorLogs.length + 1).toString().padStart(5, '0')}`,\n      timestamp: new Date().toISOString()\n    };\n    this.errorLogs.push(newLog);\n    return newLog;\n  }\n\n  // 更新日志（清空日志）\n  clearOperationLogs() {\n    this.operationLogs = [];\n    return true;\n  }\n  clearErrorLogs() {\n    this.errorLogs = [];\n    return true;\n  }\n}\n\n// 导出单例实例\nconst dataManager = new DataManager();\nexport default dataManager;","map":{"version":3,"names":["locationsData","articlesData","mediaData","categoriesData","tagsData","usersData","settingsData","apiService","DataManager","constructor","locations","locationsMetadata","metadata","articles","articlesMetadata","media","mediaFolders","folders","mediaMetadata","categories","categoriesMetadata","tags","tagsMetadata","users","roles","permissions","rolePermissions","role_permissions","usersMetadata","websiteSettings","website_settings","emailSettings","email_settings","seoSettings","seo_settings","securitySettings","security_settings","operationLogs","logs","operation_logs","errorLogs","error_logs","settingsMetadata","convertDbRegionToFrontend","region","coordinates","lng","lat","location","match","parseFloat","id","region_id","name","zh","region_name","description","layer","type","created_at","Date","toISOString","updated_at","convertFrontendRegionToDb","parent_id","getAllLocations","regions","getAllRegions","map","total_locations","length","error","console","getLocationsByLayer","filter","getLocationById","getRegionById","find","getLocationsByTag","tag","includes","getLocationsByType","searchLocations","query","language","lowerQuery","toLowerCase","some","addLocation","regionData","newRegion","createRegion","newLocation","push","last_updated","toString","padStart","updateLocation","updates","currentLocation","updatedLocation","updatedRegion","updateRegion","finalLocation","index","findIndex","deleteLocation","success","deleteRegion","splice","getMetadata","getLayers","layers","Set","sort","getTypes","types","getAllTags","forEach","add","Array","from","getAllArticles","getArticleById","article","getArticlesByStatus","status","getArticlesByAuthor","authorId","author_id","getArticlesByCategory","categoryId","category_id","getArticlesByTag","tagId","searchArticles","title","content","addArticle","newArticle","total_articles","updateArticle","deleteArticle","getAllMedia","getMediaById","getMediaByType","getMediaByFolder","folderId","folder_id","addMedia","newMedia","uploaded_at","size","total_files","deleteMedia","getAllMediaFolders","addMediaFolder","folder","newFolder","deleteMediaFolder","hasMedia","getAllCategories","getCategoryById","category","getCategoriesByParent","parentId","addCategory","newCategory","total_categories","updateCategory","deleteCategory","hasArticles","hasChildren","getTagById","addTag","newTag","article_count","updateTag","deleteTag","getAllUsers","user","total_users","getUserById","getUserByUsername","username","addUser","newUser","createUser","updateUser","updatedUser","deleteUser","getAllRoles","rolePermission","getRoleById","role","addRole","newRole","createRole","deleteRole","hasUsers","role_id","rp","updateRole","updatedRole","getAllRolePermissions","updateRolePermissions","roleId","permissionIds","permissionId","permission_id","getAllPermissions","getPermissionsByRole","getRolePermissions","allPermissions","permission","rolePermissionIds","assignPermission","existingPermissions","exists","newPermissions","p","removePermission","getWebsiteSettings","updateWebsiteSettings","getEmailSettings","updateEmailSettings","getSEOSettings","updateSEOSettings","getSecuritySettings","updateSecuritySettings","getAllOperationLogs","addOperationLog","log","newLog","timestamp","getAllErrorLogs","addErrorLog","clearOperationLogs","clearErrorLogs","dataManager"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/data/dataManager.js"],"sourcesContent":["import locationsData from './locations.json';\nimport articlesData from './articles.json';\nimport mediaData from './media.json';\nimport categoriesData from './categories.json';\nimport tagsData from './tags.json';\nimport usersData from './users.json';\nimport settingsData from './settings.json';\nimport apiService from '../services/apiService';\n\nclass DataManager {\n  constructor() {\n    this.locations = locationsData.locations;\n    this.locationsMetadata = locationsData.metadata;\n    \n    // 文章数据\n    this.articles = articlesData.articles;\n    this.articlesMetadata = articlesData.metadata;\n    \n    // 媒体数据\n    this.media = mediaData.media;\n    this.mediaFolders = mediaData.folders;\n    this.mediaMetadata = mediaData.metadata;\n    \n    // 分类与标签\n    this.categories = categoriesData.categories;\n    this.categoriesMetadata = categoriesData.metadata;\n    this.tags = tagsData.tags;\n    this.tagsMetadata = tagsData.metadata;\n    \n    // 用户与权限\n    this.users = usersData.users;\n    this.roles = usersData.roles;\n    this.permissions = usersData.permissions;\n    this.rolePermissions = usersData.role_permissions;\n    this.usersMetadata = usersData.metadata;\n    \n    // 系统设置\n    this.websiteSettings = settingsData.website_settings;\n    this.emailSettings = settingsData.email_settings;\n    this.seoSettings = settingsData.seo_settings;\n    this.securitySettings = settingsData.security_settings;\n    this.operationLogs = settingsData.logs.operation_logs;\n    this.errorLogs = settingsData.logs.error_logs;\n    this.settingsMetadata = settingsData.metadata;\n  }\n\n  // 辅助方法：将数据库格式的地域转换为前端格式\n  convertDbRegionToFrontend(region) {\n    if (!region) return null;\n    \n    // 解析经纬度\n    let coordinates = { lng: 0, lat: 0 };\n    if (region.location) {\n      const match = region.location.match(/POINT\\((\\d+\\.?\\d*) (\\d+\\.?\\d*)\\)/);\n      if (match) {\n        coordinates = { lng: parseFloat(match[1]), lat: parseFloat(match[2]) };\n      }\n    }\n    \n    return {\n      id: region.region_id,\n      name: { zh: region.region_name },\n      description: { zh: region.description || '' },\n      coordinates: coordinates,\n      layer: 'country', // 默认值，可根据需要扩展\n      type: 'country', // 默认值，可根据需要扩展\n      tags: [], // 默认值，可根据需要扩展\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString()\n    };\n  }\n\n  // 辅助方法：将前端格式的地域转换为数据库格式\n  convertFrontendRegionToDb(location) {\n    return {\n      region_name: location.name.zh,\n      parent_id: location.parent_id || null,\n      location: `POINT(${location.coordinates.lng} ${location.coordinates.lat})`,\n      description: location.description.zh || ''\n    };\n  }\n\n  // 获取所有地点\n  async getAllLocations() {\n    try {\n      const regions = await apiService.region.getAllRegions();\n      // 转换为前端需要的格式\n      const locations = regions.map(region => this.convertDbRegionToFrontend(region));\n      // 更新本地缓存\n      this.locations = locations;\n      this.locationsMetadata.total_locations = locations.length;\n      return locations;\n    } catch (error) {\n      console.error('获取所有地点失败:', error);\n      return this.locations;\n    }\n  }\n\n  // 根据图层获取地点\n  async getLocationsByLayer(layer) {\n    const locations = await this.getAllLocations();\n    if (!layer || layer === 'all') {\n      return locations;\n    }\n    return locations.filter(location => location.layer === layer);\n  }\n\n  // 根据ID获取地点\n  async getLocationById(id) {\n    try {\n      const region = await apiService.region.getRegionById(id);\n      if (region) {\n        return this.convertDbRegionToFrontend(region);\n      }\n      return null;\n    } catch (error) {\n      console.error(`获取地点 ${id} 失败:`, error);\n      return this.locations.find(location => location.id === id);\n    }\n  }\n\n  // 根据标签获取地点\n  async getLocationsByTag(tag) {\n    const locations = await this.getAllLocations();\n    return locations.filter(location => location.tags && location.tags.includes(tag));\n  }\n\n  // 根据类型获取地点\n  async getLocationsByType(type) {\n    const locations = await this.getAllLocations();\n    return locations.filter(location => location.type === type);\n  }\n\n  // 搜索地点\n  async searchLocations(query, language = 'zh') {\n    const locations = await this.getAllLocations();\n    const lowerQuery = query.toLowerCase();\n    return locations.filter(location => \n      location.name[language].toLowerCase().includes(lowerQuery) ||\n      location.description[language].toLowerCase().includes(lowerQuery) ||\n      (location.tags && location.tags.some(tag => tag.toLowerCase().includes(lowerQuery)))\n    );\n  }\n\n  // 添加地点\n  async addLocation(location) {\n    try {\n      // 转换为数据库格式\n      const regionData = this.convertFrontendRegionToDb(location);\n      const newRegion = await apiService.region.createRegion(regionData);\n      // 转换回前端格式\n      const newLocation = this.convertDbRegionToFrontend(newRegion);\n      // 更新本地缓存\n      this.locations.push(newLocation);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return newLocation;\n    } catch (error) {\n      console.error('添加地点失败:', error);\n      // 降级到本地处理\n      const newLocation = {\n        ...location,\n        id: `loc_${(this.locations.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString()\n      };\n      this.locations.push(newLocation);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return newLocation;\n    }\n  }\n\n  // 更新地点\n  async updateLocation(id, updates) {\n    try {\n      // 获取当前地点\n      const currentLocation = await this.getLocationById(id);\n      if (!currentLocation) return null;\n      \n      // 合并更新\n      const updatedLocation = {\n        ...currentLocation,\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      \n      // 转换为数据库格式\n      const regionData = this.convertFrontendRegionToDb(updatedLocation);\n      const updatedRegion = await apiService.region.updateRegion(id, regionData);\n      \n      // 转换回前端格式\n      const finalLocation = this.convertDbRegionToFrontend(updatedRegion);\n      \n      // 更新本地缓存\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index !== -1) {\n        this.locations[index] = finalLocation;\n      }\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      \n      return finalLocation;\n    } catch (error) {\n      console.error(`更新地点 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index === -1) return null;\n      \n      this.locations[index] = {\n        ...this.locations[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      \n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return this.locations[index];\n    }\n  }\n\n  // 删除地点\n  async deleteLocation(id) {\n    try {\n      const success = await apiService.region.deleteRegion(id);\n      if (success) {\n        // 更新本地缓存\n        const index = this.locations.findIndex(location => location.id === id);\n        if (index !== -1) {\n          this.locations.splice(index, 1);\n        }\n        this.locationsMetadata.total_locations = this.locations.length;\n        this.locationsMetadata.last_updated = new Date().toISOString();\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除地点 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.locations.findIndex(location => location.id === id);\n      if (index === -1) return false;\n      \n      this.locations.splice(index, 1);\n      this.locationsMetadata.total_locations = this.locations.length;\n      this.locationsMetadata.last_updated = new Date().toISOString();\n      return true;\n    }\n  }\n\n  // 获取元数据\n  getMetadata() {\n    return this.locationsMetadata;\n  }\n\n  // 获取所有图层类型\n  async getLayers() {\n    const locations = await this.getAllLocations();\n    const layers = [...new Set(locations.map(location => location.layer))];\n    return layers.sort();\n  }\n\n  // 获取所有地点类型\n  async getTypes() {\n    const locations = await this.getAllLocations();\n    const types = [...new Set(locations.map(location => location.type))];\n    return types.sort();\n  }\n\n  // 获取所有标签 (已在标签管理部分实现，这里只作为兼容性接口)\n  async getAllTags() {\n    const locations = await this.getAllLocations();\n    const tags = new Set();\n    locations.forEach(location => {\n      if (location.tags) {\n        location.tags.forEach(tag => tags.add(tag));\n      }\n    });\n    return Array.from(tags).sort();\n  }\n\n  // 文章管理相关方法\n  getAllArticles() {\n    return this.articles;\n  }\n\n  getArticleById(id) {\n    return this.articles.find(article => article.id === id);\n  }\n\n  getArticlesByStatus(status) {\n    if (!status) return this.articles;\n    return this.articles.filter(article => article.status === status);\n  }\n\n  getArticlesByAuthor(authorId) {\n    return this.articles.filter(article => article.author_id === authorId);\n  }\n\n  getArticlesByCategory(categoryId) {\n    return this.articles.filter(article => article.category_id === categoryId);\n  }\n\n  getArticlesByTag(tagId) {\n    return this.articles.filter(article => article.tags && article.tags.includes(tagId));\n  }\n\n  searchArticles(query, language = 'zh') {\n    const lowerQuery = query.toLowerCase();\n    return this.articles.filter(article => \n      article.title[language].toLowerCase().includes(lowerQuery) ||\n      article.content[language].toLowerCase().includes(lowerQuery)\n    );\n  }\n\n  addArticle(article) {\n    const newArticle = {\n      ...article,\n      id: `article_${(this.articles.length + 1).toString().padStart(4, '0')}`,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n      status: 'draft'\n    };\n    this.articles.push(newArticle);\n    this.articlesMetadata.total_articles = this.articles.length;\n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return newArticle;\n  }\n\n  updateArticle(id, updates) {\n    const index = this.articles.findIndex(article => article.id === id);\n    if (index === -1) return null;\n    \n    this.articles[index] = {\n      ...this.articles[index],\n      ...updates,\n      updated_at: new Date().toISOString()\n    };\n    \n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return this.articles[index];\n  }\n\n  deleteArticle(id) {\n    const index = this.articles.findIndex(article => article.id === id);\n    if (index === -1) return false;\n    \n    this.articles.splice(index, 1);\n    this.articlesMetadata.total_articles = this.articles.length;\n    this.articlesMetadata.last_updated = new Date().toISOString();\n    return true;\n  }\n\n  // 媒体管理相关方法\n  getAllMedia() {\n    return this.media;\n  }\n\n  getMediaById(id) {\n    return this.media.find(media => media.id === id);\n  }\n\n  getMediaByType(type) {\n    if (!type) return this.media;\n    return this.media.filter(media => media.type === type);\n  }\n\n  getMediaByFolder(folderId) {\n    return this.media.filter(media => media.folder_id === folderId);\n  }\n\n  addMedia(media) {\n    const newMedia = {\n      ...media,\n      id: `media_${(this.media.length + 1).toString().padStart(4, '0')}`,\n      uploaded_at: new Date().toISOString(),\n      size: media.size || 0\n    };\n    this.media.push(newMedia);\n    this.mediaMetadata.total_files = this.media.length;\n    this.mediaMetadata.last_updated = new Date().toISOString();\n    return newMedia;\n  }\n\n  deleteMedia(id) {\n    const index = this.media.findIndex(media => media.id === id);\n    if (index === -1) return false;\n    \n    this.media.splice(index, 1);\n    this.mediaMetadata.total_files = this.media.length;\n    this.mediaMetadata.last_updated = new Date().toISOString();\n    return true;\n  }\n\n  getAllMediaFolders() {\n    return this.mediaFolders;\n  }\n\n  addMediaFolder(folder) {\n    const newFolder = {\n      ...folder,\n      id: `folder_${(this.mediaFolders.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString()\n    };\n    this.mediaFolders.push(newFolder);\n    return newFolder;\n  }\n\n  deleteMediaFolder(id) {\n    // 检查文件夹是否为空\n    const hasMedia = this.media.some(media => media.folder_id === id);\n    if (hasMedia) return false;\n    \n    const index = this.mediaFolders.findIndex(folder => folder.id === id);\n    if (index === -1) return false;\n    \n    this.mediaFolders.splice(index, 1);\n    return true;\n  }\n\n  // 分类管理相关方法\n  getAllCategories() {\n    return this.categories;\n  }\n\n  getCategoryById(id) {\n    return this.categories.find(category => category.id === id);\n  }\n\n  getCategoriesByParent(parentId) {\n    return this.categories.filter(category => category.parent_id === parentId);\n  }\n\n  addCategory(category) {\n    const newCategory = {\n      ...category,\n      id: `cat_${(this.categories.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString(),\n      updated_at: new Date().toISOString()\n    };\n    this.categories.push(newCategory);\n    this.categoriesMetadata.total_categories = this.categories.length;\n    return newCategory;\n  }\n\n  updateCategory(id, updates) {\n    const index = this.categories.findIndex(category => category.id === id);\n    if (index === -1) return null;\n    \n    this.categories[index] = {\n      ...this.categories[index],\n      ...updates,\n      updated_at: new Date().toISOString()\n    };\n    \n    return this.categories[index];\n  }\n\n  deleteCategory(id) {\n    // 检查是否有文章属于该分类\n    const hasArticles = this.articles.some(article => article.category_id === id);\n    if (hasArticles) return false;\n    \n    // 检查是否有子分类\n    const hasChildren = this.categories.some(category => category.parent_id === id);\n    if (hasChildren) return false;\n    \n    const index = this.categories.findIndex(category => category.id === id);\n    if (index === -1) return false;\n    \n    this.categories.splice(index, 1);\n    this.categoriesMetadata.total_categories = this.categories.length;\n    return true;\n  }\n\n  // 标签管理相关方法\n  getAllTags() {\n    return this.tags;\n  }\n\n  getTagById(id) {\n    return this.tags.find(tag => tag.id === id);\n  }\n\n  addTag(tag) {\n    const newTag = {\n      ...tag,\n      id: `tag_${(this.tags.length + 1).toString().padStart(3, '0')}`,\n      created_at: new Date().toISOString(),\n      article_count: 0\n    };\n    this.tags.push(newTag);\n    return newTag;\n  }\n\n  updateTag(id, updates) {\n    const index = this.tags.findIndex(tag => tag.id === id);\n    if (index === -1) return null;\n    \n    this.tags[index] = {\n      ...this.tags[index],\n      ...updates\n    };\n    \n    return this.tags[index];\n  }\n\n  deleteTag(id) {\n    const index = this.tags.findIndex(tag => tag.id === id);\n    if (index === -1) return false;\n    \n    // 从所有文章中移除该标签\n    this.articles.forEach(article => {\n      if (article.tags && article.tags.includes(id)) {\n        article.tags = article.tags.filter(tagId => tagId !== id);\n      }\n    });\n    \n    this.tags.splice(index, 1);\n    return true;\n  }\n\n  // 用户管理相关方法\n  async getAllUsers() {\n    try {\n      const users = await apiService.user.getAllUsers();\n      // 更新本地缓存\n      this.users = users;\n      this.usersMetadata.total_users = users.length;\n      return users;\n    } catch (error) {\n      console.error('获取用户列表失败:', error);\n      return this.users;\n    }\n  }\n\n  async getUserById(id) {\n    try {\n      const user = await apiService.user.getUserById(id);\n      return user;\n    } catch (error) {\n      console.error(`获取用户 ${id} 失败:`, error);\n      return this.users.find(user => user.id === id);\n    }\n  }\n\n  async getUserByUsername(username) {\n    try {\n      const user = await apiService.user.getUserByUsername(username);\n      return user;\n    } catch (error) {\n      console.error(`获取用户 ${username} 失败:`, error);\n      return this.users.find(user => user.username === username);\n    }\n  }\n\n  async addUser(user) {\n    try {\n      const newUser = await apiService.user.createUser(user);\n      // 更新本地缓存\n      this.users.push(newUser);\n      this.usersMetadata.total_users = this.users.length;\n      return newUser;\n    } catch (error) {\n      console.error('创建用户失败:', error);\n      // 降级到本地处理\n      const newUser = {\n        ...user,\n        id: `user_${(this.users.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString(),\n        status: 'active'\n      };\n      this.users.push(newUser);\n      this.usersMetadata.total_users = this.users.length;\n      return newUser;\n    }\n  }\n\n  async updateUser(id, updates) {\n    try {\n      const updatedUser = await apiService.user.updateUser(id, updates);\n      // 更新本地缓存\n      const index = this.users.findIndex(user => user.id === id);\n      if (index !== -1) {\n        this.users[index] = updatedUser;\n      }\n      return updatedUser;\n    } catch (error) {\n      console.error(`更新用户 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.users.findIndex(user => user.id === id);\n      if (index === -1) return null;\n      \n      this.users[index] = {\n        ...this.users[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      \n      return this.users[index];\n    }\n  }\n\n  async deleteUser(id) {\n    try {\n      const success = await apiService.user.deleteUser(id);\n      // 更新本地缓存\n      if (success) {\n        const index = this.users.findIndex(user => user.id === id);\n        if (index !== -1) {\n          this.users.splice(index, 1);\n          this.usersMetadata.total_users = this.users.length;\n        }\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除用户 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.users.findIndex(user => user.id === id);\n      if (index === -1) return false;\n      \n      this.users.splice(index, 1);\n      this.usersMetadata.total_users = this.users.length;\n      return true;\n    }\n  }\n\n  // 权限管理相关方法\n  async getAllRoles() {\n    try {\n      const roles = await apiService.rolePermission.getAllRoles();\n      // 更新本地缓存\n      this.roles = roles;\n      return roles;\n    } catch (error) {\n      console.error('获取角色列表失败:', error);\n      return this.roles;\n    }\n  }\n\n  async getRoleById(id) {\n    try {\n      // 先从本地缓存查找\n      const role = this.roles.find(role => role.id === id);\n      if (role) return role;\n      \n      // 如果本地没有，从API获取\n      return await apiService.rolePermission.getRoleById(id);\n    } catch (error) {\n      console.error(`获取角色 ${id} 失败:`, error);\n      return this.roles.find(role => role.id === id);\n    }\n  }\n\n  async addRole(role) {\n    try {\n      const newRole = await apiService.rolePermission.createRole(role);\n      // 更新本地缓存\n      this.roles.push(newRole);\n      return newRole;\n    } catch (error) {\n      console.error('创建角色失败:', error);\n      // 降级到本地处理\n      const newRole = {\n        ...role,\n        id: `role_${(this.roles.length + 1).toString().padStart(3, '0')}`,\n        created_at: new Date().toISOString()\n      };\n      this.roles.push(newRole);\n      return newRole;\n    }\n  }\n\n  async deleteRole(id) {\n    try {\n      // 检查是否为超级管理员角色\n      if (id === 'role_001') return false;\n      \n      // 检查是否有用户关联到该角色\n      const users = await this.getAllUsers();\n      const hasUsers = users.some(user => user.role_id === id);\n      if (hasUsers) return false;\n      \n      const success = await apiService.rolePermission.deleteRole(id);\n      // 更新本地缓存\n      if (success) {\n        const index = this.roles.findIndex(role => role.id === id);\n        if (index !== -1) {\n          this.roles.splice(index, 1);\n        }\n        // 删除相关的权限关联\n        this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== id);\n      }\n      return success;\n    } catch (error) {\n      console.error(`删除角色 ${id} 失败:`, error);\n      // 降级到本地处理\n      // 检查是否为超级管理员角色\n      if (id === 'role_001') return false;\n      \n      // 检查是否有用户关联到该角色\n      const hasUsers = this.users.some(user => user.role_id === id);\n      if (hasUsers) return false;\n      \n      const index = this.roles.findIndex(role => role.id === id);\n      if (index === -1) return false;\n      \n      // 删除相关的权限关联\n      this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== id);\n      \n      this.roles.splice(index, 1);\n      return true;\n    }\n  }\n\n  async updateRole(id, updates) {\n    try {\n      const updatedRole = await apiService.rolePermission.updateRole(id, updates);\n      // 更新本地缓存\n      const index = this.roles.findIndex(role => role.id === id);\n      if (index !== -1) {\n        this.roles[index] = updatedRole;\n      }\n      return updatedRole;\n    } catch (error) {\n      console.error(`更新角色 ${id} 失败:`, error);\n      // 降级到本地处理\n      const index = this.roles.findIndex(role => role.id === id);\n      if (index === -1) return null;\n      \n      this.roles[index] = {\n        ...this.roles[index],\n        ...updates,\n        updated_at: new Date().toISOString()\n      };\n      \n      return this.roles[index];\n    }\n  }\n\n  async getAllRolePermissions() {\n    return this.rolePermissions;\n  }\n\n  async updateRolePermissions(roleId, permissionIds) {\n    try {\n      const success = await apiService.rolePermission.updateRolePermissions(roleId, permissionIds);\n      // 更新本地缓存\n      if (success) {\n        // 删除该角色的所有现有权限\n        this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== roleId);\n        \n        // 添加新的权限关联\n        permissionIds.forEach(permissionId => {\n          this.rolePermissions.push({ role_id: roleId, permission_id: permissionId });\n        });\n      }\n      return success;\n    } catch (error) {\n      console.error(`更新角色 ${roleId} 权限失败:`, error);\n      // 降级到本地处理\n      // 删除该角色的所有现有权限\n      this.rolePermissions = this.rolePermissions.filter(rp => rp.role_id !== roleId);\n      \n      // 添加新的权限关联\n      permissionIds.forEach(permissionId => {\n        this.rolePermissions.push({ role_id: roleId, permission_id: permissionId });\n      });\n      \n      return true;\n    }\n  }\n\n  async getAllPermissions() {\n    try {\n      const permissions = await apiService.rolePermission.getAllPermissions();\n      // 更新本地缓存\n      this.permissions = permissions;\n      return permissions;\n    } catch (error) {\n      console.error('获取权限列表失败:', error);\n      return this.permissions;\n    }\n  }\n\n  async getPermissionsByRole(roleId) {\n    try {\n      const permissionIds = await apiService.rolePermission.getRolePermissions(roleId);\n      const allPermissions = await this.getAllPermissions();\n      return allPermissions.filter(permission => permissionIds.includes(permission.id));\n    } catch (error) {\n      console.error(`获取角色 ${roleId} 权限失败:`, error);\n      // 降级到本地处理\n      const rolePermissionIds = this.rolePermissions.filter(rp => rp.role_id === roleId).map(rp => rp.permission_id);\n      return this.permissions.filter(permission => rolePermissionIds.includes(permission.id));\n    }\n  }\n\n  async assignPermission(roleId, permissionId) {\n    try {\n      // 检查是否已存在该关联\n      const existingPermissions = await this.getPermissionsByRole(roleId);\n      const exists = existingPermissions.some(permission => permission.id === permissionId);\n      if (exists) return false;\n      \n      // 更新权限列表\n      const newPermissions = [...existingPermissions.map(p => p.id), permissionId];\n      return await this.updateRolePermissions(roleId, newPermissions);\n    } catch (error) {\n      console.error(`分配权限失败:`, error);\n      // 降级到本地处理\n      // 检查是否已存在该关联\n      const exists = this.rolePermissions.some(rp => rp.role_id === roleId && rp.permission_id === permissionId);\n      if (exists) return false;\n      \n      this.rolePermissions.push({ role_id: roleId, permission_id: permissionId });\n      return true;\n    }\n  }\n\n  async removePermission(roleId, permissionId) {\n    try {\n      // 获取当前权限列表\n      const existingPermissions = await this.getPermissionsByRole(roleId);\n      // 过滤掉要移除的权限\n      const newPermissions = existingPermissions.map(p => p.id).filter(id => id !== permissionId);\n      // 更新权限列表\n      return await this.updateRolePermissions(roleId, newPermissions);\n    } catch (error) {\n      console.error(`移除权限失败:`, error);\n      // 降级到本地处理\n      const index = this.rolePermissions.findIndex(rp => rp.role_id === roleId && rp.permission_id === permissionId);\n      if (index === -1) return false;\n      \n      this.rolePermissions.splice(index, 1);\n      return true;\n    }\n  }\n\n  // 系统设置相关方法\n  getWebsiteSettings() {\n    return this.websiteSettings;\n  }\n\n  updateWebsiteSettings(updates) {\n    this.websiteSettings = {\n      ...this.websiteSettings,\n      ...updates\n    };\n    return this.websiteSettings;\n  }\n\n  getEmailSettings() {\n    return this.emailSettings;\n  }\n\n  updateEmailSettings(updates) {\n    this.emailSettings = {\n      ...this.emailSettings,\n      ...updates\n    };\n    return this.emailSettings;\n  }\n\n  getSEOSettings() {\n    return this.seoSettings;\n  }\n\n  updateSEOSettings(updates) {\n    this.seoSettings = {\n      ...this.seoSettings,\n      ...updates\n    };\n    return this.seoSettings;\n  }\n\n  getSecuritySettings() {\n    return this.securitySettings;\n  }\n\n  updateSecuritySettings(updates) {\n    this.securitySettings = {\n      ...this.securitySettings,\n      ...updates\n    };\n    return this.securitySettings;\n  }\n\n  // 日志管理相关方法\n  getAllOperationLogs() {\n    return this.operationLogs;\n  }\n\n  addOperationLog(log) {\n    const newLog = {\n      ...log,\n      id: `log_${(this.operationLogs.length + 1).toString().padStart(5, '0')}`,\n      timestamp: new Date().toISOString()\n    };\n    this.operationLogs.push(newLog);\n    return newLog;\n  }\n\n  getAllErrorLogs() {\n    return this.errorLogs;\n  }\n\n  addErrorLog(log) {\n    const newLog = {\n      ...log,\n      id: `error_${(this.errorLogs.length + 1).toString().padStart(5, '0')}`,\n      timestamp: new Date().toISOString()\n    };\n    this.errorLogs.push(newLog);\n    return newLog;\n  }\n\n  // 更新日志（清空日志）\n  clearOperationLogs() {\n    this.operationLogs = [];\n    return true;\n  }\n\n  clearErrorLogs() {\n    this.errorLogs = [];\n    return true;\n  }\n}\n\n\n// 导出单例实例\nconst dataManager = new DataManager();\nexport default dataManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}