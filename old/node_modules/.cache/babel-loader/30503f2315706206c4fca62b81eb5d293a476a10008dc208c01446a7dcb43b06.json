{"ast":null,"code":"import _objectSpread from\"/Volumes/ZHITTAI/xiangmu/renwendil/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import CMSNavbar from'../components/CMSNavbar.js';import dataManager from'../data/dataManager.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CMSRoleManagement=()=>{const[roles,setRoles]=useState([]);const[permissions,setPermissions]=useState([]);const[rolePermissions,setRolePermissions]=useState({});const[filteredRoles,setFilteredRoles]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[isModalOpen,setIsModalOpen]=useState(false);const[editingRole,setEditingRole]=useState(null);const[isCopying,setIsCopying]=useState(false);const[roleForm,setRoleForm]=useState({name:'',slug:'',description:'',is_system:false});const[isPermissionModalOpen,setIsPermissionModalOpen]=useState(false);const[selectedRole,setSelectedRole]=useState(null);const[selectedPermissions,setSelectedPermissions]=useState([]);useEffect(()=>{const allRoles=dataManager.getAllRoles();const allPermissions=dataManager.getAllPermissions();const allRolePermissions=dataManager.getAllRolePermissions();setRoles(allRoles);setFilteredRoles(allRoles);setPermissions(allPermissions);// 将角色权限转换为map结构便于查找\nconst rolePermMap={};allRolePermissions.forEach(rolePerm=>{rolePermMap[rolePerm.role_id]=rolePerm.permission_ids;});setRolePermissions(rolePermMap);},[]);useEffect(()=>{let result=roles;if(searchQuery){result=result.filter(role=>role.name.toLowerCase().includes(searchQuery.toLowerCase())||role.description.toLowerCase().includes(searchQuery.toLowerCase()));}setFilteredRoles(result);},[searchQuery,roles]);const handleSearch=e=>{setSearchQuery(e.target.value);};const handleOpenModal=function(){let role=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let copy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(role){setEditingRole(role);if(copy){setIsCopying(true);setRoleForm({name:\"\".concat(role.name,\" (\\u526F\\u672C)\"),slug:\"\".concat(role.slug,\"_copy\"),description:\"\".concat(role.description,\" (\\u526F\\u672C)\"),is_system:false});}else{setIsCopying(false);setRoleForm({name:role.name,slug:role.slug,description:role.description,is_system:role.is_system});}}else{setEditingRole(null);setIsCopying(false);setRoleForm({name:'',slug:'',description:'',is_system:false});}setIsModalOpen(true);};const handleCloseModal=()=>{setIsModalOpen(false);setEditingRole(null);setIsCopying(false);};const handleInputChange=e=>{const{name,value}=e.target;setRoleForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();const roleData=_objectSpread({},roleForm);if(editingRole&&!isCopying){// 系统角色不能修改为非系统角色\nif(editingRole.is_system&&!roleData.is_system){alert('系统角色不能修改为非系统角色');return;}dataManager.updateRole(editingRole.id,roleData);}else{// 新角色或复制角色，系统角色默认为false\nroleData.is_system=false;dataManager.addRole(roleData);}setRoles(dataManager.getAllRoles());handleCloseModal();};const handleDelete=id=>{const role=roles.find(r=>r.id===id);if(role.is_system){alert('系统角色不能删除');return;}// 检查是否有用户使用该角色\nconst users=dataManager.getAllUsers();const usersWithRole=users.filter(user=>user.role_id===id);if(usersWithRole.length>0){alert(\"\\u8BE5\\u89D2\\u8272\\u4E0B\\u6709 \".concat(usersWithRole.length,\" \\u4E2A\\u7528\\u6237\\uFF0C\\u5220\\u9664\\u524D\\u8BF7\\u5148\\u8FC1\\u79FB\\u8FD9\\u4E9B\\u7528\\u6237\\u7684\\u89D2\\u8272\"));return;}if(window.confirm('确定要删除该角色吗？')){dataManager.deleteRole(id);setRoles(dataManager.getAllRoles());}};const handleOpenPermissionModal=role=>{setSelectedRole(role);// 获取该角色已有的权限\nconst currentPermissions=rolePermissions[role.id]||[];setSelectedPermissions(currentPermissions);setIsPermissionModalOpen(true);};const handleClosePermissionModal=()=>{setIsPermissionModalOpen(false);setSelectedRole(null);setSelectedPermissions([]);};const handlePermissionChange=permissionId=>{if(selectedPermissions.includes(permissionId)){setSelectedPermissions(selectedPermissions.filter(id=>id!==permissionId));}else{setSelectedPermissions([...selectedPermissions,permissionId]);}};const handlePermissionSubmit=()=>{if(selectedRole){dataManager.updateRolePermissions(selectedRole.id,selectedPermissions);// 更新本地状态\nconst updatedRolePermissions=_objectSpread({},rolePermissions);updatedRolePermissions[selectedRole.id]=selectedPermissions;setRolePermissions(updatedRolePermissions);handleClosePermissionModal();}};// 按模块对权限进行分组\nconst permissionsByModule=permissions.reduce((acc,perm)=>{if(!acc[perm.module]){acc[perm.module]=[];}acc[perm.module].push(perm);return acc;},{});const moduleNames={'content':'内容管理','user':'用户管理','permission':'权限控制','system':'系统设置'};return/*#__PURE__*/_jsxs(\"div\",{className:\"cms-container\",children:[/*#__PURE__*/_jsx(CMSNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u7BA1\\u7406\\u83DC\\u5355\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar-nav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/cms/dashboard\",className:\"cms-nav-link\",children:\"\\u4EEA\\u8868\\u677F\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/articles\",className:\"cms-nav-link\",children:\"\\u6587\\u7AE0\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/media\",className:\"cms-nav-link\",children:\"\\u5A92\\u4F53\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/categories\",className:\"cms-nav-link\",children:\"\\u5206\\u7C7B\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/tags\",className:\"cms-nav-link\",children:\"\\u6807\\u7B7E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/locations\",className:\"cms-nav-link\",children:\"\\u4F4D\\u7F6E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/users\",className:\"cms-nav-link\",children:\"\\u7528\\u6237\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/roles\",className:\"cms-nav-link active\",children:\"\\u89D2\\u8272\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/settings\",className:\"cms-nav-link\",children:\"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"cms-nav-link\",children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cms-main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cms-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u89D2\\u8272\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleOpenModal(),children:\"\\u6DFB\\u52A0\\u89D2\\u8272\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"roles-filters\",children:/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u641C\\u7D22\\u89D2\\u8272\\u540D\\u79F0\\u6216\\u63CF\\u8FF0...\",value:searchQuery,onChange:handleSearch,className:\"search-input\"})})}),/*#__PURE__*/_jsxs(\"table\",{className:\"roles-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u89D2\\u8272\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6807\\u8BC6\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u7C7B\\u578B\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u7528\\u6237\\u6570\\u91CF\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u521B\\u5EFA\\u65F6\\u95F4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredRoles.map(role=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:role.name}),/*#__PURE__*/_jsx(\"td\",{children:role.slug}),/*#__PURE__*/_jsx(\"td\",{children:role.description}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"role-type-badge \".concat(role.is_system?'system-role':'custom-role'),children:role.is_system?'系统角色':'自定义角色'})}),/*#__PURE__*/_jsx(\"td\",{children:role.user_count||0}),/*#__PURE__*/_jsx(\"td\",{children:new Date(role.created_at).toLocaleString()}),/*#__PURE__*/_jsxs(\"td\",{className:\"role-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>handleOpenModal(role),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn copy-btn\",onClick:()=>handleOpenModal(role,true),children:\"\\u590D\\u5236\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn permission-btn\",onClick:()=>handleOpenPermissionModal(role),children:\"\\u6743\\u9650\"}),!role.is_system&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete(role.id),children:\"\\u5220\\u9664\"})]})]},role.id))})]})]})]})})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:isCopying?'复制角色':editingRole?'编辑角色':'添加角色'}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleCloseModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"\\u89D2\\u8272\\u540D\\u79F0\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",value:roleForm.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"slug\",children:\"\\u89D2\\u8272\\u6807\\u8BC6\\uFF08\\u82F1\\u6587\\uFF09\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"slug\",name:\"slug\",value:roleForm.slug,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"\\u89D2\\u8272\\u63CF\\u8FF0\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:roleForm.description,onChange:handleInputChange,rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"is_system\",checked:roleForm.is_system,onChange:e=>setRoleForm(prev=>_objectSpread(_objectSpread({},prev),{},{is_system:e.target.checked})),disabled:editingRole&&editingRole.is_system}),\"\\u7CFB\\u7EDF\\u89D2\\u8272\"]}),editingRole&&editingRole.is_system&&/*#__PURE__*/_jsx(\"span\",{className:\"system-role-hint\",children:\"\\uFF08\\u7CFB\\u7EDF\\u89D2\\u8272\\u4E0D\\u53EF\\u4FEE\\u6539\\uFF09\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCloseModal,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"\\u4FDD\\u5B58\"})]})]})]})}),isPermissionModalOpen&&selectedRole&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal permission-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u5206\\u914D\\u6743\\u9650 - \",selectedRole.name]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleClosePermissionModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"permission-groups\",children:Object.entries(permissionsByModule).map(_ref=>{let[module,modulePermissions]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"permission-module\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"module-title\",children:moduleNames[module]||module}),/*#__PURE__*/_jsx(\"div\",{className:\"permission-list\",children:modulePermissions.map(permission=>/*#__PURE__*/_jsxs(\"div\",{className:\"permission-item\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedPermissions.includes(permission.id),onChange:()=>handlePermissionChange(permission.id)}),permission.name]}),/*#__PURE__*/_jsx(\"span\",{className:\"permission-description\",children:permission.description})]},permission.id))})]},module);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleClosePermissionModal,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handlePermissionSubmit,children:\"\\u4FDD\\u5B58\\u6743\\u9650\"})]})]})]})})]});};export default CMSRoleManagement;","map":{"version":3,"names":["React","useState","useEffect","CMSNavbar","dataManager","jsx","_jsx","jsxs","_jsxs","CMSRoleManagement","roles","setRoles","permissions","setPermissions","rolePermissions","setRolePermissions","filteredRoles","setFilteredRoles","searchQuery","setSearchQuery","isModalOpen","setIsModalOpen","editingRole","setEditingRole","isCopying","setIsCopying","roleForm","setRoleForm","name","slug","description","is_system","isPermissionModalOpen","setIsPermissionModalOpen","selectedRole","setSelectedRole","selectedPermissions","setSelectedPermissions","allRoles","getAllRoles","allPermissions","getAllPermissions","allRolePermissions","getAllRolePermissions","rolePermMap","forEach","rolePerm","role_id","permission_ids","result","filter","role","toLowerCase","includes","handleSearch","e","target","value","handleOpenModal","arguments","length","undefined","copy","concat","handleCloseModal","handleInputChange","prev","_objectSpread","handleSubmit","preventDefault","roleData","alert","updateRole","id","addRole","handleDelete","find","r","users","getAllUsers","usersWithRole","user","window","confirm","deleteRole","handleOpenPermissionModal","currentPermissions","handleClosePermissionModal","handlePermissionChange","permissionId","handlePermissionSubmit","updateRolePermissions","updatedRolePermissions","permissionsByModule","reduce","acc","perm","module","push","moduleNames","className","children","href","onClick","type","placeholder","onChange","map","user_count","Date","created_at","toLocaleString","onSubmit","htmlFor","required","rows","checked","disabled","Object","entries","_ref","modulePermissions","permission"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/CMSRoleManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CMSNavbar from '../components/CMSNavbar.js';\nimport dataManager from '../data/dataManager.js';\n\nconst CMSRoleManagement = () => {\n  const [roles, setRoles] = useState([]);\n  const [permissions, setPermissions] = useState([]);\n  const [rolePermissions, setRolePermissions] = useState({});\n  const [filteredRoles, setFilteredRoles] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingRole, setEditingRole] = useState(null);\n  const [isCopying, setIsCopying] = useState(false);\n  const [roleForm, setRoleForm] = useState({\n    name: '',\n    slug: '',\n    description: '',\n    is_system: false\n  });\n  const [isPermissionModalOpen, setIsPermissionModalOpen] = useState(false);\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [selectedPermissions, setSelectedPermissions] = useState([]);\n\n  useEffect(() => {\n    const allRoles = dataManager.getAllRoles();\n    const allPermissions = dataManager.getAllPermissions();\n    const allRolePermissions = dataManager.getAllRolePermissions();\n    \n    setRoles(allRoles);\n    setFilteredRoles(allRoles);\n    setPermissions(allPermissions);\n    \n    // 将角色权限转换为map结构便于查找\n    const rolePermMap = {};\n    allRolePermissions.forEach(rolePerm => {\n      rolePermMap[rolePerm.role_id] = rolePerm.permission_ids;\n    });\n    setRolePermissions(rolePermMap);\n  }, []);\n\n  useEffect(() => {\n    let result = roles;\n    if (searchQuery) {\n      result = result.filter(role => \n        role.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        role.description.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n    setFilteredRoles(result);\n  }, [searchQuery, roles]);\n\n  const handleSearch = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleOpenModal = (role = null, copy = false) => {\n    if (role) {\n      setEditingRole(role);\n      if (copy) {\n        setIsCopying(true);\n        setRoleForm({\n          name: `${role.name} (副本)`,\n          slug: `${role.slug}_copy`,\n          description: `${role.description} (副本)`,\n          is_system: false\n        });\n      } else {\n        setIsCopying(false);\n        setRoleForm({\n          name: role.name,\n          slug: role.slug,\n          description: role.description,\n          is_system: role.is_system\n        });\n      }\n    } else {\n      setEditingRole(null);\n      setIsCopying(false);\n      setRoleForm({\n        name: '',\n        slug: '',\n        description: '',\n        is_system: false\n      });\n    }\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingRole(null);\n    setIsCopying(false);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setRoleForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const roleData = { ...roleForm };\n    \n    if (editingRole && !isCopying) {\n      // 系统角色不能修改为非系统角色\n      if (editingRole.is_system && !roleData.is_system) {\n        alert('系统角色不能修改为非系统角色');\n        return;\n      }\n      dataManager.updateRole(editingRole.id, roleData);\n    } else {\n      // 新角色或复制角色，系统角色默认为false\n      roleData.is_system = false;\n      dataManager.addRole(roleData);\n    }\n    \n    setRoles(dataManager.getAllRoles());\n    handleCloseModal();\n  };\n\n  const handleDelete = (id) => {\n    const role = roles.find(r => r.id === id);\n    if (role.is_system) {\n      alert('系统角色不能删除');\n      return;\n    }\n    \n    // 检查是否有用户使用该角色\n    const users = dataManager.getAllUsers();\n    const usersWithRole = users.filter(user => user.role_id === id);\n    if (usersWithRole.length > 0) {\n      alert(`该角色下有 ${usersWithRole.length} 个用户，删除前请先迁移这些用户的角色`);\n      return;\n    }\n    \n    if (window.confirm('确定要删除该角色吗？')) {\n      dataManager.deleteRole(id);\n      setRoles(dataManager.getAllRoles());\n    }\n  };\n\n  const handleOpenPermissionModal = (role) => {\n    setSelectedRole(role);\n    // 获取该角色已有的权限\n    const currentPermissions = rolePermissions[role.id] || [];\n    setSelectedPermissions(currentPermissions);\n    setIsPermissionModalOpen(true);\n  };\n\n  const handleClosePermissionModal = () => {\n    setIsPermissionModalOpen(false);\n    setSelectedRole(null);\n    setSelectedPermissions([]);\n  };\n\n  const handlePermissionChange = (permissionId) => {\n    if (selectedPermissions.includes(permissionId)) {\n      setSelectedPermissions(selectedPermissions.filter(id => id !== permissionId));\n    } else {\n      setSelectedPermissions([...selectedPermissions, permissionId]);\n    }\n  };\n\n  const handlePermissionSubmit = () => {\n    if (selectedRole) {\n      dataManager.updateRolePermissions(selectedRole.id, selectedPermissions);\n      // 更新本地状态\n      const updatedRolePermissions = { ...rolePermissions };\n      updatedRolePermissions[selectedRole.id] = selectedPermissions;\n      setRolePermissions(updatedRolePermissions);\n      handleClosePermissionModal();\n    }\n  };\n\n  // 按模块对权限进行分组\n  const permissionsByModule = permissions.reduce((acc, perm) => {\n    if (!acc[perm.module]) {\n      acc[perm.module] = [];\n    }\n    acc[perm.module].push(perm);\n    return acc;\n  }, {});\n\n  const moduleNames = {\n    'content': '内容管理',\n    'user': '用户管理',\n    'permission': '权限控制',\n    'system': '系统设置'\n  };\n\n  return (\n    <div className=\"cms-container\">\n      <CMSNavbar />\n      <div className=\"cms-content\">\n        <div className=\"cms-sidebar\">\n          <h3>管理菜单</h3>\n          <div className=\"cms-sidebar-nav\">\n            <a href=\"/cms/dashboard\" className=\"cms-nav-link\">仪表板</a>\n            <a href=\"/cms/articles\" className=\"cms-nav-link\">文章管理</a>\n            <a href=\"/cms/media\" className=\"cms-nav-link\">媒体管理</a>\n            <a href=\"/cms/categories\" className=\"cms-nav-link\">分类管理</a>\n            <a href=\"/cms/tags\" className=\"cms-nav-link\">标签管理</a>\n            <a href=\"/cms/locations\" className=\"cms-nav-link\">位置管理</a>\n            <a href=\"/cms/users\" className=\"cms-nav-link\">用户管理</a>\n            <a href=\"/cms/roles\" className=\"cms-nav-link active\">角色管理</a>\n            <a href=\"/cms/settings\" className=\"cms-nav-link\">系统设置</a>\n            <a href=\"/\" className=\"cms-nav-link\">退出登录</a>\n          </div>\n        </div>\n        <div className=\"cms-main-content\">\n          <div className=\"cms-card\">\n            <div className=\"card-header\">\n              <h2>角色管理</h2>\n              <button className=\"btn btn-primary\" onClick={() => handleOpenModal()}>添加角色</button>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"roles-filters\">\n                <div className=\"filter-group\">\n                  <input \n                    type=\"text\" \n                    placeholder=\"搜索角色名称或描述...\" \n                    value={searchQuery}\n                    onChange={handleSearch}\n                    className=\"search-input\"\n                  />\n                </div>\n              </div>\n              \n              <table className=\"roles-table\">\n                <thead>\n                  <tr>\n                    <th>角色名称</th>\n                    <th>标识</th>\n                    <th>描述</th>\n                    <th>类型</th>\n                    <th>用户数量</th>\n                    <th>创建时间</th>\n                    <th>操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredRoles.map(role => (\n                    <tr key={role.id}>\n                      <td>{role.name}</td>\n                      <td>{role.slug}</td>\n                      <td>{role.description}</td>\n                      <td>\n                        <span className={`role-type-badge ${role.is_system ? 'system-role' : 'custom-role'}`}>\n                          {role.is_system ? '系统角色' : '自定义角色'}\n                        </span>\n                      </td>\n                      <td>{role.user_count || 0}</td>\n                      <td>{new Date(role.created_at).toLocaleString()}</td>\n                      <td className=\"role-actions\">\n                        <button className=\"action-btn edit-btn\" onClick={() => handleOpenModal(role)}>编辑</button>\n                        <button className=\"action-btn copy-btn\" onClick={() => handleOpenModal(role, true)}>复制</button>\n                        <button className=\"action-btn permission-btn\" onClick={() => handleOpenPermissionModal(role)}>权限</button>\n                        {!role.is_system && (\n                          <button className=\"action-btn delete-btn\" onClick={() => handleDelete(role.id)}>删除</button>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* 角色编辑/添加模态框 */}\n      {isModalOpen && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{isCopying ? '复制角色' : (editingRole ? '编辑角色' : '添加角色')}</h3>\n              <button className=\"modal-close\" onClick={handleCloseModal}>×</button>\n            </div>\n            <form onSubmit={handleSubmit} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label htmlFor=\"name\">角色名称</label>\n                <input \n                  type=\"text\" \n                  id=\"name\" \n                  name=\"name\" \n                  value={roleForm.name}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"slug\">角色标识（英文）</label>\n                <input \n                  type=\"text\" \n                  id=\"slug\" \n                  name=\"slug\" \n                  value={roleForm.slug}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">角色描述</label>\n                <textarea \n                  id=\"description\" \n                  name=\"description\" \n                  value={roleForm.description}\n                  onChange={handleInputChange}\n                  rows=\"3\"\n                />\n              </div>\n              <div className=\"form-group\">\n                <label>\n                  <input \n                    type=\"checkbox\" \n                    name=\"is_system\" \n                    checked={roleForm.is_system}\n                    onChange={(e) => setRoleForm(prev => ({ ...prev, is_system: e.target.checked }))}\n                    disabled={editingRole && editingRole.is_system}\n                  />\n                  系统角色\n                </label>\n                {editingRole && editingRole.is_system && <span className=\"system-role-hint\">（系统角色不可修改）</span>}\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>取消</button>\n                <button type=\"submit\" className=\"btn btn-primary\">保存</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n      \n      {/* 权限分配模态框 */}\n      {isPermissionModalOpen && selectedRole && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal permission-modal\">\n            <div className=\"modal-header\">\n              <h3>分配权限 - {selectedRole.name}</h3>\n              <button className=\"modal-close\" onClick={handleClosePermissionModal}>×</button>\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"permission-groups\">\n                {Object.entries(permissionsByModule).map(([module, modulePermissions]) => (\n                  <div key={module} className=\"permission-module\">\n                    <h4 className=\"module-title\">{moduleNames[module] || module}</h4>\n                    <div className=\"permission-list\">\n                      {modulePermissions.map(permission => (\n                        <div key={permission.id} className=\"permission-item\">\n                          <label>\n                            <input \n                              type=\"checkbox\" \n                              checked={selectedPermissions.includes(permission.id)}\n                              onChange={() => handlePermissionChange(permission.id)}\n                            />\n                            {permission.name}\n                          </label>\n                          <span className=\"permission-description\">{permission.description}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleClosePermissionModal}>取消</button>\n                <button type=\"button\" className=\"btn btn-primary\" onClick={handlePermissionSubmit}>保存权限</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CMSRoleManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}