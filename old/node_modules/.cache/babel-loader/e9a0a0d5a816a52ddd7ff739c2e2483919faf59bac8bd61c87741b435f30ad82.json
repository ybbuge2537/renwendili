{"ast":null,"code":"import _objectSpread from\"/Volumes/ZHITTAI/xiangmu/renwendil/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserLogin=_ref=>{let{onLogin}=_ref;const[formData,setFormData]=useState({username:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(error){setError('');}};const handleSubmit=e=>{e.preventDefault();// Simple validation (in production, use proper authentication)\n// This is just a demo - in real app, you'd validate against a backend\nif(formData.username&&formData.password){console.log('登录成功:',formData);if(onLogin){onLogin(true);navigate('/');}}else{setError('请输入用户名和密码');}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u6587\\u8206\\u4E16\\u754C - \\u7528\\u6237\\u767B\\u5F55\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"\\u7528\\u6237\\u540D:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formData.username,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u5BC6\\u7801:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formData.password,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{width:'100%',padding:'12px',marginTop:'10px'},children:\"\\u767B\\u5F55\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',marginTop:'15px',fontSize:'14px'},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u8FD8\\u6CA1\\u6709\\u8D26\\u53F7\\uFF1F \"}),/*#__PURE__*/_jsx(\"a\",{href:\"/user/register\",style:{color:'#3498db',textDecoration:'none'},children:\"\\u7ACB\\u5373\\u6CE8\\u518C\"})]})]})]})});};export default UserLogin;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","UserLogin","_ref","onLogin","formData","setFormData","username","password","error","setError","navigate","handleInputChange","e","name","value","target","prev","_objectSpread","handleSubmit","preventDefault","console","log","className","children","onSubmit","htmlFor","type","id","onChange","required","style","width","padding","marginTop","textAlign","fontSize","href","color","textDecoration"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/UserLogin.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst UserLogin = ({ onLogin }) => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  \n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (error) {\n      setError('');\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Simple validation (in production, use proper authentication)\n    // This is just a demo - in real app, you'd validate against a backend\n    if (formData.username && formData.password) {\n      console.log('登录成功:', formData);\n      if (onLogin) {\n        onLogin(true);\n        navigate('/');\n      }\n    } else {\n      setError('请输入用户名和密码');\n    }\n  };\n\n  return (\n    <div className=\"login-container\">\n      <div className=\"login-form\">\n        <h2>文舆世界 - 用户登录</h2>\n        \n        {error && <div className=\"error-message\">{error}</div>}\n        \n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <label htmlFor=\"username\">用户名:</label>\n            <input \n              type=\"text\" \n              id=\"username\" \n              name=\"username\"\n              value={formData.username} \n              onChange={handleInputChange} \n              required \n            />\n          </div>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"password\">密码:</label>\n            <input \n              type=\"password\" \n              id=\"password\" \n              name=\"password\"\n              value={formData.password} \n              onChange={handleInputChange} \n              required \n            />\n          </div>\n          \n          <button type=\"submit\" className=\"btn btn-primary\" style={{ width: '100%', padding: '12px', marginTop: '10px' }}>登录</button>\n          \n          <div style={{ textAlign: 'center', marginTop: '15px', fontSize: '14px' }}>\n            <span>还没有账号？ </span>\n            <a href=\"/user/register\" style={{ color: '#3498db', textDecoration: 'none' }}>立即注册</a>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default UserLogin;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}