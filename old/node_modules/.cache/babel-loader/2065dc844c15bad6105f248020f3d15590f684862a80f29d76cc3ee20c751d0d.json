{"ast":null,"code":"var _jsxFileName = \"/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/CMSArticleManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CMSNavbar from '../components/CMSNavbar';\nimport dataManager from '../data/dataManager';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CMSArticleManagement = () => {\n  _s();\n  const [articles, setArticles] = useState([]);\n  const [filteredArticles, setFilteredArticles] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [selectedArticles, setSelectedArticles] = useState([]);\n  const [showArticleForm, setShowArticleForm] = useState(false);\n  const [currentArticle, setCurrentArticle] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [tags, setTags] = useState([]);\n\n  // 表单状态\n  const [formData, setFormData] = useState({\n    title: {\n      zh: '',\n      en: ''\n    },\n    content: {\n      zh: '',\n      en: ''\n    },\n    category_id: '',\n    tag_ids: [],\n    author_id: 'user_admin',\n    summary: {\n      zh: '',\n      en: ''\n    },\n    featured_image: '',\n    location_id: '',\n    keywords: {\n      zh: '',\n      en: ''\n    }\n  });\n  useEffect(() => {\n    const allArticles = dataManager.getAllArticles();\n    setArticles(allArticles);\n    setFilteredArticles(allArticles);\n    const allCategories = dataManager.getAllCategories();\n    setCategories(allCategories);\n    const allTags = dataManager.getAllTags();\n    setTags(allTags);\n  }, []);\n\n  // 处理表单输入变化\n  const handleFormChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  // 处理标签选择\n  const handleTagChange = tagId => {\n    setFormData(prev => {\n      if (prev.tag_ids.includes(tagId)) {\n        return {\n          ...prev,\n          tag_ids: prev.tag_ids.filter(id => id !== tagId)\n        };\n      } else {\n        return {\n          ...prev,\n          tag_ids: [...prev.tag_ids, tagId]\n        };\n      }\n    });\n  };\n\n  // 打开文章表单\n  const openArticleForm = (article = null) => {\n    setCurrentArticle(article);\n    if (article) {\n      setFormData({\n        title: article.title || {\n          zh: '',\n          en: ''\n        },\n        content: article.content || {\n          zh: '',\n          en: ''\n        },\n        category_id: article.category_id || '',\n        tag_ids: article.tags || [],\n        author_id: article.author_id || 'user_admin',\n        summary: article.summary || {\n          zh: '',\n          en: ''\n        },\n        featured_image: article.featured_image || '',\n        location_id: article.location_id || '',\n        keywords: article.keywords || {\n          zh: '',\n          en: ''\n        }\n      });\n    } else {\n      setFormData({\n        title: {\n          zh: '',\n          en: ''\n        },\n        content: {\n          zh: '',\n          en: ''\n        },\n        category_id: '',\n        tag_ids: [],\n        author_id: 'user_admin',\n        summary: {\n          zh: '',\n          en: ''\n        },\n        featured_image: '',\n        location_id: '',\n        keywords: {\n          zh: '',\n          en: ''\n        }\n      });\n    }\n    setShowArticleForm(true);\n  };\n\n  // 关闭文章表单\n  const closeArticleForm = () => {\n    setShowArticleForm(false);\n    setCurrentArticle(null);\n  };\n\n  // 保存文章\n  const handleSaveArticle = () => {\n    if (!formData.title.zh.trim() || !formData.content.zh.trim()) {\n      alert('请填写中文标题和内容');\n      return;\n    }\n    if (currentArticle) {\n      // 更新现有文章\n      dataManager.updateArticle(currentArticle.id, {\n        ...formData,\n        updated_at: new Date().toISOString()\n      });\n    } else {\n      // 添加新文章\n      dataManager.addArticle(formData);\n    }\n\n    // 更新文章列表\n    const updatedArticles = dataManager.getAllArticles();\n    setArticles(updatedArticles);\n    setFilteredArticles(updatedArticles);\n\n    // 关闭表单\n    closeArticleForm();\n  };\n  useEffect(() => {\n    let result = articles;\n    if (searchQuery) {\n      result = dataManager.searchArticles(searchQuery);\n    }\n    if (statusFilter) {\n      result = result.filter(article => article.status === statusFilter);\n    }\n    setFilteredArticles(result);\n  }, [searchQuery, statusFilter, articles]);\n  const handleSearch = e => {\n    setSearchQuery(e.target.value);\n  };\n  const handleStatusFilter = e => {\n    setStatusFilter(e.target.value);\n  };\n  const handleArticleSelect = id => {\n    if (selectedArticles.includes(id)) {\n      setSelectedArticles(selectedArticles.filter(articleId => articleId !== id));\n    } else {\n      setSelectedArticles([...selectedArticles, id]);\n    }\n  };\n  const handleBulkDelete = () => {\n    selectedArticles.forEach(id => {\n      dataManager.deleteArticle(id);\n    });\n    setArticles(dataManager.getAllArticles());\n    setSelectedArticles([]);\n  };\n  const handleBulkMoveToTrash = () => {\n    selectedArticles.forEach(id => {\n      dataManager.updateArticle(id, {\n        status: 'trash'\n      });\n    });\n    setArticles(dataManager.getAllArticles());\n    setSelectedArticles([]);\n  };\n  const handlePublish = id => {\n    dataManager.updateArticle(id, {\n      status: 'published'\n    });\n    setArticles(dataManager.getAllArticles());\n  };\n  const handleDraft = id => {\n    dataManager.updateArticle(id, {\n      status: 'draft'\n    });\n    setArticles(dataManager.getAllArticles());\n  };\n  const handleTrash = id => {\n    dataManager.updateArticle(id, {\n      status: 'trash'\n    });\n    setArticles(dataManager.getAllArticles());\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cms-container\",\n    children: [/*#__PURE__*/_jsxDEV(CMSNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cms-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cms-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u7BA1\\u7406\\u83DC\\u5355\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cms-sidebar-nav\",\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/dashboard\",\n            className: \"cms-nav-link\",\n            children: \"\\u4EEA\\u8868\\u677F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/articles\",\n            className: \"cms-nav-link active\",\n            children: \"\\u6587\\u7AE0\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/media\",\n            className: \"cms-nav-link\",\n            children: \"\\u5A92\\u4F53\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/categories\",\n            className: \"cms-nav-link\",\n            children: \"\\u5206\\u7C7B\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/tags\",\n            className: \"cms-nav-link\",\n            children: \"\\u6807\\u7B7E\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/locations\",\n            className: \"cms-nav-link\",\n            children: \"\\u4F4D\\u7F6E\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/users\",\n            className: \"cms-nav-link\",\n            children: \"\\u7528\\u6237\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/roles\",\n            className: \"cms-nav-link\",\n            children: \"\\u89D2\\u8272\\u7BA1\\u7406\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/cms/settings\",\n            className: \"cms-nav-link\",\n            children: \"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/\",\n            className: \"cms-nav-link\",\n            children: \"\\u9000\\u51FA\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cms-main-content\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cms-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u6587\\u7AE0\\u7BA1\\u7406\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => openArticleForm(),\n              children: \"\\u64B0\\u5199\\u65B0\\u6587\\u7AE0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article-filters\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"\\u641C\\u7D22\\u6587\\u7AE0...\",\n                  value: searchQuery,\n                  onChange: handleSearch,\n                  className: \"search-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-group\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: statusFilter,\n                  onChange: handleStatusFilter,\n                  className: \"status-filter\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"\\u5168\\u90E8\\u72B6\\u6001\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"draft\",\n                    children: \"\\u8349\\u7A3F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"pending\",\n                    children: \"\\u5F85\\u5BA1\\u6838\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"published\",\n                    children: \"\\u5DF2\\u53D1\\u5E03\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"trash\",\n                    children: \"\\u56DE\\u6536\\u7AD9\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bulk-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: handleBulkDelete,\n                disabled: selectedArticles.length === 0,\n                children: \"\\u6279\\u91CF\\u5220\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning\",\n                onClick: handleBulkMoveToTrash,\n                disabled: selectedArticles.length === 0,\n                children: \"\\u79FB\\u81F3\\u56DE\\u6536\\u7AD9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"article-table-container\",\n              children: /*#__PURE__*/_jsxDEV(\"table\", {\n                className: \"article-table\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: selectedArticles.length === filteredArticles.length && filteredArticles.length > 0,\n                        onChange: e => {\n                          if (e.target.checked) {\n                            setSelectedArticles(filteredArticles.map(article => article.id));\n                          } else {\n                            setSelectedArticles([]);\n                          }\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 272,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u6807\\u9898\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u4F5C\\u8005\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u5206\\u7C7B\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u72B6\\u6001\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u53D1\\u5E03\\u65F6\\u95F4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"\\u64CD\\u4F5C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: filteredArticles.map(article => /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"checkbox\",\n                        checked: selectedArticles.includes(article.id),\n                        onChange: () => handleArticleSelect(article.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: article.title.zh\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: article.author_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: article.category_id\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 303,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `status-badge status-${article.status}`,\n                        children: [article.status === 'draft' && '草稿', article.status === 'pending' && '待审核', article.status === 'published' && '已发布', article.status === 'trash' && '回收站']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 305,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: new Date(article.created_at).toLocaleString()\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"article-actions\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-btn edit-btn\",\n                        children: \"\\u7F16\\u8F91\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 314,\n                        columnNumber: 27\n                      }, this), article.status !== 'published' && /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-btn publish-btn\",\n                        onClick: () => handlePublish(article.id),\n                        children: \"\\u53D1\\u5E03\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 29\n                      }, this), article.status === 'published' && /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-btn draft-btn\",\n                        onClick: () => handleDraft(article.id),\n                        children: \"\\u8F6C\\u4E3A\\u8349\\u7A3F\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 319,\n                        columnNumber: 29\n                      }, this), article.status !== 'trash' && /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"action-btn trash-btn\",\n                        onClick: () => handleTrash(article.id),\n                        children: \"\\u5220\\u9664\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 322,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this)]\n                  }, article.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(CMSArticleManagement, \"uxtIG8hdxsdeROpHLVFwGSGXxMQ=\");\n_c = CMSArticleManagement;\nexport default CMSArticleManagement;\nvar _c;\n$RefreshReg$(_c, \"CMSArticleManagement\");","map":{"version":3,"names":["React","useState","useEffect","CMSNavbar","dataManager","jsxDEV","_jsxDEV","CMSArticleManagement","_s","articles","setArticles","filteredArticles","setFilteredArticles","searchQuery","setSearchQuery","statusFilter","setStatusFilter","selectedArticles","setSelectedArticles","showArticleForm","setShowArticleForm","currentArticle","setCurrentArticle","categories","setCategories","tags","setTags","formData","setFormData","title","zh","en","content","category_id","tag_ids","author_id","summary","featured_image","location_id","keywords","allArticles","getAllArticles","allCategories","getAllCategories","allTags","getAllTags","handleFormChange","e","name","value","target","includes","parent","child","split","prev","handleTagChange","tagId","filter","id","openArticleForm","article","closeArticleForm","handleSaveArticle","trim","alert","updateArticle","updated_at","Date","toISOString","addArticle","updatedArticles","result","searchArticles","status","handleSearch","handleStatusFilter","handleArticleSelect","articleId","handleBulkDelete","forEach","deleteArticle","handleBulkMoveToTrash","handlePublish","handleDraft","handleTrash","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","onClick","type","placeholder","onChange","disabled","length","checked","map","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/CMSArticleManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CMSNavbar from '../components/CMSNavbar';\nimport dataManager from '../data/dataManager';\n\nconst CMSArticleManagement = () => {\n  const [articles, setArticles] = useState([]);\n  const [filteredArticles, setFilteredArticles] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [selectedArticles, setSelectedArticles] = useState([]);\n  const [showArticleForm, setShowArticleForm] = useState(false);\n  const [currentArticle, setCurrentArticle] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [tags, setTags] = useState([]);\n\n  // 表单状态\n  const [formData, setFormData] = useState({\n    title: { zh: '', en: '' },\n    content: { zh: '', en: '' },\n    category_id: '',\n    tag_ids: [],\n    author_id: 'user_admin',\n    summary: { zh: '', en: '' },\n    featured_image: '',\n    location_id: '',\n    keywords: { zh: '', en: '' }\n  });\n\n  useEffect(() => {\n    const allArticles = dataManager.getAllArticles();\n    setArticles(allArticles);\n    setFilteredArticles(allArticles);\n    \n    const allCategories = dataManager.getAllCategories();\n    setCategories(allCategories);\n    \n    const allTags = dataManager.getAllTags();\n    setTags(allTags);\n  }, []);\n\n  // 处理表单输入变化\n  const handleFormChange = (e) => {\n    const { name, value } = e.target;\n    if (name.includes('.')) {\n      const [parent, child] = name.split('.');\n      setFormData(prev => ({\n        ...prev,\n        [parent]: {\n          ...prev[parent],\n          [child]: value\n        }\n      }));\n    } else {\n      setFormData(prev => ({\n        ...prev,\n        [name]: value\n      }));\n    }\n  };\n\n  // 处理标签选择\n  const handleTagChange = (tagId) => {\n    setFormData(prev => {\n      if (prev.tag_ids.includes(tagId)) {\n        return {\n          ...prev,\n          tag_ids: prev.tag_ids.filter(id => id !== tagId)\n        };\n      } else {\n        return {\n          ...prev,\n          tag_ids: [...prev.tag_ids, tagId]\n        };\n      }\n    });\n  };\n\n  // 打开文章表单\n  const openArticleForm = (article = null) => {\n    setCurrentArticle(article);\n    if (article) {\n      setFormData({\n        title: article.title || { zh: '', en: '' },\n        content: article.content || { zh: '', en: '' },\n        category_id: article.category_id || '',\n        tag_ids: article.tags || [],\n        author_id: article.author_id || 'user_admin',\n        summary: article.summary || { zh: '', en: '' },\n        featured_image: article.featured_image || '',\n        location_id: article.location_id || '',\n        keywords: article.keywords || { zh: '', en: '' }\n      });\n    } else {\n      setFormData({\n        title: { zh: '', en: '' },\n        content: { zh: '', en: '' },\n        category_id: '',\n        tag_ids: [],\n        author_id: 'user_admin',\n        summary: { zh: '', en: '' },\n        featured_image: '',\n        location_id: '',\n        keywords: { zh: '', en: '' }\n      });\n    }\n    setShowArticleForm(true);\n  };\n\n  // 关闭文章表单\n  const closeArticleForm = () => {\n    setShowArticleForm(false);\n    setCurrentArticle(null);\n  };\n\n  // 保存文章\n  const handleSaveArticle = () => {\n    if (!formData.title.zh.trim() || !formData.content.zh.trim()) {\n      alert('请填写中文标题和内容');\n      return;\n    }\n\n    if (currentArticle) {\n      // 更新现有文章\n      dataManager.updateArticle(currentArticle.id, {\n        ...formData,\n        updated_at: new Date().toISOString()\n      });\n    } else {\n      // 添加新文章\n      dataManager.addArticle(formData);\n    }\n\n    // 更新文章列表\n    const updatedArticles = dataManager.getAllArticles();\n    setArticles(updatedArticles);\n    setFilteredArticles(updatedArticles);\n    \n    // 关闭表单\n    closeArticleForm();\n  };\n\n  useEffect(() => {\n    let result = articles;\n    if (searchQuery) {\n      result = dataManager.searchArticles(searchQuery);\n    }\n    if (statusFilter) {\n      result = result.filter(article => article.status === statusFilter);\n    }\n    setFilteredArticles(result);\n  }, [searchQuery, statusFilter, articles]);\n\n  const handleSearch = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleStatusFilter = (e) => {\n    setStatusFilter(e.target.value);\n  };\n\n  const handleArticleSelect = (id) => {\n    if (selectedArticles.includes(id)) {\n      setSelectedArticles(selectedArticles.filter(articleId => articleId !== id));\n    } else {\n      setSelectedArticles([...selectedArticles, id]);\n    }\n  };\n\n  const handleBulkDelete = () => {\n    selectedArticles.forEach(id => {\n      dataManager.deleteArticle(id);\n    });\n    setArticles(dataManager.getAllArticles());\n    setSelectedArticles([]);\n  };\n\n  const handleBulkMoveToTrash = () => {\n    selectedArticles.forEach(id => {\n      dataManager.updateArticle(id, { status: 'trash' });\n    });\n    setArticles(dataManager.getAllArticles());\n    setSelectedArticles([]);\n  };\n\n  const handlePublish = (id) => {\n    dataManager.updateArticle(id, { status: 'published' });\n    setArticles(dataManager.getAllArticles());\n  };\n\n  const handleDraft = (id) => {\n    dataManager.updateArticle(id, { status: 'draft' });\n    setArticles(dataManager.getAllArticles());\n  };\n\n  const handleTrash = (id) => {\n    dataManager.updateArticle(id, { status: 'trash' });\n    setArticles(dataManager.getAllArticles());\n  };\n\n  return (\n    <div className=\"cms-container\">\n      <CMSNavbar />\n      <div className=\"cms-content\">\n        <div className=\"cms-sidebar\">\n          <h3>管理菜单</h3>\n          <div className=\"cms-sidebar-nav\">\n            <a href=\"/cms/dashboard\" className=\"cms-nav-link\">仪表板</a>\n            <a href=\"/cms/articles\" className=\"cms-nav-link active\">文章管理</a>\n            <a href=\"/cms/media\" className=\"cms-nav-link\">媒体管理</a>\n            <a href=\"/cms/categories\" className=\"cms-nav-link\">分类管理</a>\n            <a href=\"/cms/tags\" className=\"cms-nav-link\">标签管理</a>\n            <a href=\"/cms/locations\" className=\"cms-nav-link\">位置管理</a>\n            <a href=\"/cms/users\" className=\"cms-nav-link\">用户管理</a>\n            <a href=\"/cms/roles\" className=\"cms-nav-link\">角色管理</a>\n            <a href=\"/cms/settings\" className=\"cms-nav-link\">系统设置</a>\n            <a href=\"/\" className=\"cms-nav-link\">退出登录</a>\n          </div>\n        </div>\n        <div className=\"cms-main-content\">\n          <div className=\"cms-card\">\n            <div className=\"card-header\">\n              <h2>文章管理</h2>\n              <button className=\"btn btn-primary\" onClick={() => openArticleForm()}>撰写新文章</button>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"article-filters\">\n                <div className=\"filter-group\">\n                  <input \n                    type=\"text\" \n                    placeholder=\"搜索文章...\" \n                    value={searchQuery}\n                    onChange={handleSearch}\n                    className=\"search-input\"\n                  />\n                </div>\n                <div className=\"filter-group\">\n                  <select \n                    value={statusFilter}\n                    onChange={handleStatusFilter}\n                    className=\"status-filter\"\n                  >\n                    <option value=\"\">全部状态</option>\n                    <option value=\"draft\">草稿</option>\n                    <option value=\"pending\">待审核</option>\n                    <option value=\"published\">已发布</option>\n                    <option value=\"trash\">回收站</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"bulk-actions\">\n                <button \n                  className=\"btn btn-danger\" \n                  onClick={handleBulkDelete}\n                  disabled={selectedArticles.length === 0}\n                >\n                  批量删除\n                </button>\n                <button \n                  className=\"btn btn-warning\" \n                  onClick={handleBulkMoveToTrash}\n                  disabled={selectedArticles.length === 0}\n                >\n                  移至回收站\n                </button>\n              </div>\n              \n              <div className=\"article-table-container\">\n                <table className=\"article-table\">\n                  <thead>\n                    <tr>\n                      <th><input \n                        type=\"checkbox\" \n                        checked={selectedArticles.length === filteredArticles.length && filteredArticles.length > 0}\n                        onChange={(e) => {\n                          if (e.target.checked) {\n                            setSelectedArticles(filteredArticles.map(article => article.id));\n                          } else {\n                            setSelectedArticles([]);\n                          }\n                        }}\n                      /></th>\n                      <th>标题</th>\n                      <th>作者</th>\n                      <th>分类</th>\n                      <th>状态</th>\n                      <th>发布时间</th>\n                      <th>操作</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {filteredArticles.map(article => (\n                      <tr key={article.id}>\n                        <td>\n                          <input \n                            type=\"checkbox\" \n                            checked={selectedArticles.includes(article.id)}\n                            onChange={() => handleArticleSelect(article.id)}\n                          />\n                        </td>\n                        <td>{article.title.zh}</td>\n                        <td>{article.author_id}</td>\n                        <td>{article.category_id}</td>\n                        <td>\n                          <span className={`status-badge status-${article.status}`}>\n                            {article.status === 'draft' && '草稿'}\n                            {article.status === 'pending' && '待审核'}\n                            {article.status === 'published' && '已发布'}\n                            {article.status === 'trash' && '回收站'}\n                          </span>\n                        </td>\n                        <td>{new Date(article.created_at).toLocaleString()}</td>\n                        <td className=\"article-actions\">\n                          <button className=\"action-btn edit-btn\">编辑</button>\n                          {article.status !== 'published' && (\n                            <button className=\"action-btn publish-btn\" onClick={() => handlePublish(article.id)}>发布</button>\n                          )}\n                          {article.status === 'published' && (\n                            <button className=\"action-btn draft-btn\" onClick={() => handleDraft(article.id)}>转为草稿</button>\n                          )}\n                          {article.status !== 'trash' && (\n                            <button className=\"action-btn trash-btn\" onClick={() => handleTrash(article.id)}>删除</button>\n                          )}\n                        </td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CMSArticleManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}