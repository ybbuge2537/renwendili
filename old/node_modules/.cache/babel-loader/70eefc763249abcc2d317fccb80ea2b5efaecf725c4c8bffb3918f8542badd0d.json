{"ast":null,"code":"import _objectSpread from\"/Volumes/ZHITTAI/xiangmu/renwendil/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import CMSNavbar from'../components/CMSNavbar.js';import dataManager from'../data/dataManager.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CMSUserManagement=()=>{const[users,setUsers]=useState([]);const[roles,setRoles]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[roleFilter,setRoleFilter]=useState('');const[statusFilter,setStatusFilter]=useState('');const[selectedUsers,setSelectedUsers]=useState([]);const[isModalOpen,setIsModalOpen]=useState(false);const[editingUser,setEditingUser]=useState(null);const[userForm,setUserForm]=useState({username:'',email:'',password:'',role_id:'',phone:'',status:'active'});useEffect(()=>{const allUsers=dataManager.getAllUsers();const allRoles=dataManager.getAllRoles();setUsers(allUsers);setFilteredUsers(allUsers);setRoles(allRoles);},[]);useEffect(()=>{let result=users;if(searchQuery){result=result.filter(user=>user.username.toLowerCase().includes(searchQuery.toLowerCase())||user.email.toLowerCase().includes(searchQuery.toLowerCase()));}if(roleFilter){result=result.filter(user=>user.role_id===roleFilter);}if(statusFilter){result=result.filter(user=>user.status===statusFilter);}setFilteredUsers(result);},[searchQuery,roleFilter,statusFilter,users]);const handleSearch=e=>{setSearchQuery(e.target.value);};const handleRoleFilter=e=>{setRoleFilter(e.target.value);};const handleStatusFilter=e=>{setStatusFilter(e.target.value);};const handleUserSelect=id=>{if(selectedUsers.includes(id)){setSelectedUsers(selectedUsers.filter(userId=>userId!==id));}else{setSelectedUsers([...selectedUsers,id]);}};const handleBulkEnable=()=>{selectedUsers.forEach(id=>{dataManager.updateUser(id,{status:'active'});});setUsers(dataManager.getAllUsers());setSelectedUsers([]);};const handleBulkDisable=()=>{selectedUsers.forEach(id=>{dataManager.updateUser(id,{status:'inactive'});});setUsers(dataManager.getAllUsers());setSelectedUsers([]);};const handleOpenModal=function(){let user=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(user){setEditingUser(user);setUserForm({username:user.username,email:user.email,password:'',role_id:user.role_id,phone:user.phone||'',status:user.status});}else{setEditingUser(null);setUserForm({username:'',email:'',password:'',role_id:roles.length>0?roles[0].id:'',phone:'',status:'active'});}setIsModalOpen(true);};const handleCloseModal=()=>{setIsModalOpen(false);setEditingUser(null);};const handleInputChange=e=>{const{name,value}=e.target;setUserForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();const userData=_objectSpread({},userForm);if(!userData.password){// 如果密码为空，不更新密码\ndelete userData.password;}if(editingUser){dataManager.updateUser(editingUser.id,userData);}else{// 新用户必须设置密码\nif(!userData.password){alert('新用户必须设置密码');return;}// 简单的密码加密模拟\nuserData.password='encrypted_'+userData.password;dataManager.addUser(userData);}setUsers(dataManager.getAllUsers());handleCloseModal();};const handleDelete=id=>{if(window.confirm('确定要删除该用户吗？')){dataManager.deleteUser(id);setUsers(dataManager.getAllUsers());}};const handleResetPassword=id=>{if(window.confirm('确定要重置该用户的密码吗？')){// 生成随机密码\nconst randomPassword=Math.random().toString(36).substring(2,10);// 简单的密码加密模拟\nconst encryptedPassword='encrypted_'+randomPassword;dataManager.updateUser(id,{password:encryptedPassword});alert(\"\\u5BC6\\u7801\\u5DF2\\u91CD\\u7F6E\\u4E3A\\uFF1A\".concat(randomPassword));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"cms-container\",children:[/*#__PURE__*/_jsx(CMSNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u7BA1\\u7406\\u83DC\\u5355\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"cms-sidebar-nav\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/cms/dashboard\",className:\"cms-nav-link\",children:\"\\u4EEA\\u8868\\u677F\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/articles\",className:\"cms-nav-link\",children:\"\\u6587\\u7AE0\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/media\",className:\"cms-nav-link\",children:\"\\u5A92\\u4F53\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/categories\",className:\"cms-nav-link\",children:\"\\u5206\\u7C7B\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/tags\",className:\"cms-nav-link\",children:\"\\u6807\\u7B7E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/locations\",className:\"cms-nav-link\",children:\"\\u4F4D\\u7F6E\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/users\",className:\"cms-nav-link active\",children:\"\\u7528\\u6237\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/roles\",className:\"cms-nav-link\",children:\"\\u89D2\\u8272\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/cms/settings\",className:\"cms-nav-link\",children:\"\\u7CFB\\u7EDF\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"cms-nav-link\",children:\"\\u9000\\u51FA\\u767B\\u5F55\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cms-main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cms-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u7528\\u6237\\u7BA1\\u7406\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>handleOpenModal(),children:\"\\u6DFB\\u52A0\\u7528\\u6237\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"users-filters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u641C\\u7D22\\u7528\\u6237\\u540D\\u6216\\u90AE\\u7BB1...\",value:searchQuery,onChange:handleSearch,className:\"search-input\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:roleFilter,onChange:handleRoleFilter,className:\"role-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u89D2\\u8272\"}),roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.id,children:role.name},role.id))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\",children:/*#__PURE__*/_jsxs(\"select\",{value:statusFilter,onChange:handleStatusFilter,className:\"status-filter\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u6240\\u6709\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u6D3B\\u8DC3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u7981\\u7528\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bulk-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-success\",onClick:handleBulkEnable,disabled:selectedUsers.length===0,children:\"\\u6279\\u91CF\\u542F\\u7528\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-warning\",onClick:handleBulkDisable,disabled:selectedUsers.length===0,children:\"\\u6279\\u91CF\\u7981\\u7528\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedUsers.length===filteredUsers.length&&filteredUsers.length>0,onChange:e=>{if(e.target.checked){setSelectedUsers(filteredUsers.map(user=>user.id));}else{setSelectedUsers([]);}}})}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u7528\\u6237\\u540D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u89D2\\u8272\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u624B\\u673A\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6CE8\\u518C\\u65F6\\u95F4\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u6700\\u540E\\u767B\\u5F55\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u767B\\u5F55IP\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u64CD\\u4F5C\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(user=>{const userRole=roles.find(role=>role.id===user.role_id);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedUsers.includes(user.id),onChange:()=>handleUserSelect(user.id)})}),/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:userRole?userRole.name:'未知'}),/*#__PURE__*/_jsx(\"td\",{children:user.phone||'-'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"status-badge status-\".concat(user.status),children:[user.status==='active'&&'活跃',user.status==='inactive'&&'禁用']})}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.created_at).toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:user.last_login_time?new Date(user.last_login_time).toLocaleString():'-'}),/*#__PURE__*/_jsx(\"td\",{children:user.last_login_ip||'-'}),/*#__PURE__*/_jsxs(\"td\",{className:\"user-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn edit-btn\",onClick:()=>handleOpenModal(user),children:\"\\u7F16\\u8F91\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn reset-btn\",onClick:()=>handleResetPassword(user.id),children:\"\\u91CD\\u7F6E\\u5BC6\\u7801\"}),user.status==='active'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn disable-btn\",onClick:()=>dataManager.updateUser(user.id,{status:'inactive'}),children:\"\\u7981\\u7528\"}),user.status==='inactive'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn enable-btn\",onClick:()=>dataManager.updateUser(user.id,{status:'active'}),children:\"\\u542F\\u7528\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn delete-btn\",onClick:()=>handleDelete(user.id),children:\"\\u5220\\u9664\"})]})]},user.id);})})]})]})]})})]}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:editingUser?'编辑用户':'添加用户'}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:handleCloseModal,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"\\u7528\\u6237\\u540D\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:userForm.username,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u90AE\\u7BB1\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",value:userForm.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[\"\\u5BC6\\u7801\",editingUser?'（不填则保持不变）':'']}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:userForm.password,onChange:handleInputChange,required:!editingUser})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role_id\",children:\"\\u89D2\\u8272\"}),/*#__PURE__*/_jsx(\"select\",{id:\"role_id\",name:\"role_id\",value:userForm.role_id,onChange:handleInputChange,required:true,children:roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role.id,children:role.name},role.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",children:\"\\u624B\\u673A\\u53F7\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phone\",name:\"phone\",value:userForm.phone,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"\\u72B6\\u6001\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",name:\"status\",value:userForm.status,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u6D3B\\u8DC3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"inactive\",children:\"\\u7981\\u7528\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCloseModal,children:\"\\u53D6\\u6D88\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"\\u4FDD\\u5B58\"})]})]})]})})]});};export default CMSUserManagement;","map":{"version":3,"names":["React","useState","useEffect","CMSNavbar","dataManager","jsx","_jsx","jsxs","_jsxs","CMSUserManagement","users","setUsers","roles","setRoles","filteredUsers","setFilteredUsers","searchQuery","setSearchQuery","roleFilter","setRoleFilter","statusFilter","setStatusFilter","selectedUsers","setSelectedUsers","isModalOpen","setIsModalOpen","editingUser","setEditingUser","userForm","setUserForm","username","email","password","role_id","phone","status","allUsers","getAllUsers","allRoles","getAllRoles","result","filter","user","toLowerCase","includes","handleSearch","e","target","value","handleRoleFilter","handleStatusFilter","handleUserSelect","id","userId","handleBulkEnable","forEach","updateUser","handleBulkDisable","handleOpenModal","arguments","length","undefined","handleCloseModal","handleInputChange","name","prev","_objectSpread","handleSubmit","preventDefault","userData","alert","addUser","handleDelete","window","confirm","deleteUser","handleResetPassword","randomPassword","Math","random","toString","substring","encryptedPassword","concat","className","children","href","onClick","type","placeholder","onChange","map","role","disabled","checked","userRole","find","Date","created_at","toLocaleString","last_login_time","last_login_ip","onSubmit","htmlFor","required"],"sources":["/Volumes/ZHITTAI/xiangmu/renwendil/src/pages/CMSUserManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CMSNavbar from '../components/CMSNavbar.js';\nimport dataManager from '../data/dataManager.js';\n\nconst CMSUserManagement = () => {\n  const [users, setUsers] = useState([]);\n  const [roles, setRoles] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [roleFilter, setRoleFilter] = useState('');\n  const [statusFilter, setStatusFilter] = useState('');\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingUser, setEditingUser] = useState(null);\n  const [userForm, setUserForm] = useState({\n    username: '',\n    email: '',\n    password: '',\n    role_id: '',\n    phone: '',\n    status: 'active'\n  });\n\n  useEffect(() => {\n    const allUsers = dataManager.getAllUsers();\n    const allRoles = dataManager.getAllRoles();\n    setUsers(allUsers);\n    setFilteredUsers(allUsers);\n    setRoles(allRoles);\n  }, []);\n\n  useEffect(() => {\n    let result = users;\n    if (searchQuery) {\n      result = result.filter(user => \n        user.username.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        user.email.toLowerCase().includes(searchQuery.toLowerCase())\n      );\n    }\n    if (roleFilter) {\n      result = result.filter(user => user.role_id === roleFilter);\n    }\n    if (statusFilter) {\n      result = result.filter(user => user.status === statusFilter);\n    }\n    setFilteredUsers(result);\n  }, [searchQuery, roleFilter, statusFilter, users]);\n\n  const handleSearch = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleRoleFilter = (e) => {\n    setRoleFilter(e.target.value);\n  };\n\n  const handleStatusFilter = (e) => {\n    setStatusFilter(e.target.value);\n  };\n\n  const handleUserSelect = (id) => {\n    if (selectedUsers.includes(id)) {\n      setSelectedUsers(selectedUsers.filter(userId => userId !== id));\n    } else {\n      setSelectedUsers([...selectedUsers, id]);\n    }\n  };\n\n  const handleBulkEnable = () => {\n    selectedUsers.forEach(id => {\n      dataManager.updateUser(id, { status: 'active' });\n    });\n    setUsers(dataManager.getAllUsers());\n    setSelectedUsers([]);\n  };\n\n  const handleBulkDisable = () => {\n    selectedUsers.forEach(id => {\n      dataManager.updateUser(id, { status: 'inactive' });\n    });\n    setUsers(dataManager.getAllUsers());\n    setSelectedUsers([]);\n  };\n\n  const handleOpenModal = (user = null) => {\n    if (user) {\n      setEditingUser(user);\n      setUserForm({\n        username: user.username,\n        email: user.email,\n        password: '',\n        role_id: user.role_id,\n        phone: user.phone || '',\n        status: user.status\n      });\n    } else {\n      setEditingUser(null);\n      setUserForm({\n        username: '',\n        email: '',\n        password: '',\n        role_id: roles.length > 0 ? roles[0].id : '',\n        phone: '',\n        status: 'active'\n      });\n    }\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingUser(null);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setUserForm(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    const userData = { ...userForm };\n    if (!userData.password) {\n      // 如果密码为空，不更新密码\n      delete userData.password;\n    }\n    \n    if (editingUser) {\n      dataManager.updateUser(editingUser.id, userData);\n    } else {\n      // 新用户必须设置密码\n      if (!userData.password) {\n        alert('新用户必须设置密码');\n        return;\n      }\n      // 简单的密码加密模拟\n      userData.password = 'encrypted_' + userData.password;\n      dataManager.addUser(userData);\n    }\n    \n    setUsers(dataManager.getAllUsers());\n    handleCloseModal();\n  };\n\n  const handleDelete = (id) => {\n    if (window.confirm('确定要删除该用户吗？')) {\n      dataManager.deleteUser(id);\n      setUsers(dataManager.getAllUsers());\n    }\n  };\n\n  const handleResetPassword = (id) => {\n    if (window.confirm('确定要重置该用户的密码吗？')) {\n      // 生成随机密码\n      const randomPassword = Math.random().toString(36).substring(2, 10);\n      // 简单的密码加密模拟\n      const encryptedPassword = 'encrypted_' + randomPassword;\n      dataManager.updateUser(id, { password: encryptedPassword });\n      alert(`密码已重置为：${randomPassword}`);\n    }\n  };\n\n  return (\n    <div className=\"cms-container\">\n      <CMSNavbar />\n      <div className=\"cms-content\">\n        <div className=\"cms-sidebar\">\n          <h3>管理菜单</h3>\n          <div className=\"cms-sidebar-nav\">\n            <a href=\"/cms/dashboard\" className=\"cms-nav-link\">仪表板</a>\n            <a href=\"/cms/articles\" className=\"cms-nav-link\">文章管理</a>\n            <a href=\"/cms/media\" className=\"cms-nav-link\">媒体管理</a>\n            <a href=\"/cms/categories\" className=\"cms-nav-link\">分类管理</a>\n            <a href=\"/cms/tags\" className=\"cms-nav-link\">标签管理</a>\n            <a href=\"/cms/locations\" className=\"cms-nav-link\">位置管理</a>\n            <a href=\"/cms/users\" className=\"cms-nav-link active\">用户管理</a>\n            <a href=\"/cms/roles\" className=\"cms-nav-link\">角色管理</a>\n            <a href=\"/cms/settings\" className=\"cms-nav-link\">系统设置</a>\n            <a href=\"/\" className=\"cms-nav-link\">退出登录</a>\n          </div>\n        </div>\n        <div className=\"cms-main-content\">\n          <div className=\"cms-card\">\n            <div className=\"card-header\">\n              <h2>用户管理</h2>\n              <button className=\"btn btn-primary\" onClick={() => handleOpenModal()}>添加用户</button>\n            </div>\n            <div className=\"card-body\">\n              <div className=\"users-filters\">\n                <div className=\"filter-group\">\n                  <input \n                    type=\"text\" \n                    placeholder=\"搜索用户名或邮箱...\" \n                    value={searchQuery}\n                    onChange={handleSearch}\n                    className=\"search-input\"\n                  />\n                </div>\n                <div className=\"filter-group\">\n                  <select \n                    value={roleFilter} \n                    onChange={handleRoleFilter}\n                    className=\"role-filter\"\n                  >\n                    <option value=\"\">所有角色</option>\n                    {roles.map(role => (\n                      <option key={role.id} value={role.id}>{role.name}</option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"filter-group\">\n                  <select \n                    value={statusFilter} \n                    onChange={handleStatusFilter}\n                    className=\"status-filter\"\n                  >\n                    <option value=\"\">所有状态</option>\n                    <option value=\"active\">活跃</option>\n                    <option value=\"inactive\">禁用</option>\n                  </select>\n                </div>\n              </div>\n              \n              <div className=\"bulk-actions\">\n                <button \n                  className=\"btn btn-success\" \n                  onClick={handleBulkEnable}\n                  disabled={selectedUsers.length === 0}\n                >\n                  批量启用\n                </button>\n                <button \n                  className=\"btn btn-warning\" \n                  onClick={handleBulkDisable}\n                  disabled={selectedUsers.length === 0}\n                >\n                  批量禁用\n                </button>\n              </div>\n              \n              <table className=\"users-table\">\n                <thead>\n                  <tr>\n                    <th><input \n                      type=\"checkbox\" \n                      checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}\n                      onChange={(e) => {\n                        if (e.target.checked) {\n                          setSelectedUsers(filteredUsers.map(user => user.id));\n                        } else {\n                          setSelectedUsers([]);\n                        }\n                      }}\n                    /></th>\n                    <th>用户名</th>\n                    <th>邮箱</th>\n                    <th>角色</th>\n                    <th>手机</th>\n                    <th>状态</th>\n                    <th>注册时间</th>\n                    <th>最后登录</th>\n                    <th>登录IP</th>\n                    <th>操作</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredUsers.map(user => {\n                    const userRole = roles.find(role => role.id === user.role_id);\n                    return (\n                      <tr key={user.id}>\n                        <td>\n                          <input \n                            type=\"checkbox\" \n                            checked={selectedUsers.includes(user.id)}\n                            onChange={() => handleUserSelect(user.id)}\n                          />\n                        </td>\n                        <td>{user.username}</td>\n                        <td>{user.email}</td>\n                        <td>{userRole ? userRole.name : '未知'}</td>\n                        <td>{user.phone || '-'}</td>\n                        <td>\n                          <span className={`status-badge status-${user.status}`}>\n                            {user.status === 'active' && '活跃'}\n                            {user.status === 'inactive' && '禁用'}\n                          </span>\n                        </td>\n                        <td>{new Date(user.created_at).toLocaleString()}</td>\n                        <td>{user.last_login_time ? new Date(user.last_login_time).toLocaleString() : '-'}</td>\n                        <td>{user.last_login_ip || '-'}</td>\n                        <td className=\"user-actions\">\n                          <button className=\"action-btn edit-btn\" onClick={() => handleOpenModal(user)}>编辑</button>\n                          <button className=\"action-btn reset-btn\" onClick={() => handleResetPassword(user.id)}>重置密码</button>\n                          {user.status === 'active' && (\n                            <button className=\"action-btn disable-btn\" onClick={() => dataManager.updateUser(user.id, { status: 'inactive' })}>禁用</button>\n                          )}\n                          {user.status === 'inactive' && (\n                            <button className=\"action-btn enable-btn\" onClick={() => dataManager.updateUser(user.id, { status: 'active' })}>启用</button>\n                          )}\n                          <button className=\"action-btn delete-btn\" onClick={() => handleDelete(user.id)}>删除</button>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {isModalOpen && (\n        <div className=\"modal-overlay\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h3>{editingUser ? '编辑用户' : '添加用户'}</h3>\n              <button className=\"modal-close\" onClick={handleCloseModal}>×</button>\n            </div>\n            <form onSubmit={handleSubmit} className=\"modal-body\">\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">用户名</label>\n                <input \n                  type=\"text\" \n                  id=\"username\" \n                  name=\"username\" \n                  value={userForm.username}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"email\">邮箱</label>\n                <input \n                  type=\"email\" \n                  id=\"email\" \n                  name=\"email\" \n                  value={userForm.email}\n                  onChange={handleInputChange}\n                  required\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">密码{editingUser ? '（不填则保持不变）' : ''}</label>\n                <input \n                  type=\"password\" \n                  id=\"password\" \n                  name=\"password\" \n                  value={userForm.password}\n                  onChange={handleInputChange}\n                  required={!editingUser}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"role_id\">角色</label>\n                <select \n                  id=\"role_id\" \n                  name=\"role_id\" \n                  value={userForm.role_id}\n                  onChange={handleInputChange}\n                  required\n                >\n                  {roles.map(role => (\n                    <option key={role.id} value={role.id}>{role.name}</option>\n                  ))}\n                </select>\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"phone\">手机号</label>\n                <input \n                  type=\"tel\" \n                  id=\"phone\" \n                  name=\"phone\" \n                  value={userForm.phone}\n                  onChange={handleInputChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"status\">状态</label>\n                <select \n                  id=\"status\" \n                  name=\"status\" \n                  value={userForm.status}\n                  onChange={handleInputChange}\n                  required\n                >\n                  <option value=\"active\">活跃</option>\n                  <option value=\"inactive\">禁用</option>\n                </select>\n              </div>\n              <div className=\"modal-footer\">\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>取消</button>\n                <button type=\"submit\" className=\"btn btn-primary\">保存</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CMSUserManagement;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}